<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abhyuday Higher Secondary School | Neemuch</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom background for the hero section */
        .hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://placehold.co/1920x1080/a2e6b8/1a202c?text=Abhyuday+Campus');
            background-size: cover;
            background-position: center;
        }
        /* Styles for Syllabus Tabs */
        .syllabus-tab-page {
            transition: all 0.2s ease-in-out;
            border-bottom-width: 4px;
            border-color: transparent;
        }
        .syllabus-tab-page:not(.active-tab):hover {
            transform: translateY(-2px);
            background-color: #f0fdf4; /* Light green background on hover */
        }
        .active-tab, .active-tab:hover {
            border-color: #16a34a; /* Tailwind's green-600 */
            color: #15803d; /* Tailwind's green-700 */
            transform: translateY(0);
            background-color: white;
            box-shadow: none;
        }
        /* Style for active navigation link */
        .active-nav-link {
            color: #15803d !important; /* Tailwind's green-700 */
            font-weight: 600 !important;
        }
        /* Custom styles for header scrolling effect */
        .header-transition {
            transition: padding 0.3s ease, box-shadow 0.3s ease;
        }
        .header-scrolled {
            padding-top: 0.75rem; /* py-3 */
            padding-bottom: 0.75rem; /* py-3 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        /* Styles for Gallery Modal */
        #gallery-viewer-modal.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="sticky top-0 w-full z-50">
        <!-- Top Bar -->
        <div id="top-bar" class="bg-green-800 text-white transition-all duration-300 ease-in-out h-auto overflow-hidden">
            <div class="container mx-auto px-6 py-2 flex justify-between items-center text-sm">
                <div class="flex items-center space-x-4">
                    <a href="#" aria-label="Facebook" class="hover:text-gray-300 transition rounded-full"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Instagram" class="hover:text-gray-300 transition rounded-full"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="YouTube" class="hover:text-gray-300 transition rounded-full"><i class="fab fa-youtube"></i></a>
                </div>
                <div class="flex items-center space-x-6">
                    <a href="#/contact" class="border border-white rounded-lg px-3 py-1 hover:bg-white hover:text-green-800 transition text-xs sm:text-sm">Enquiry Form</a>
                    <div class="hidden sm:flex items-center space-x-2">
                        <i class="fas fa-phone-alt"></i>
                        <a href="tel:+919111980203" class="hover:text-gray-300 transition">9111980203</a>
                        <span class="text-gray-400">,</span>
                        <a href="tel:+919826109798" class="hover:text-gray-300 transition">9826109798</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main Navigation -->
        <nav id="main-nav" class="bg-white shadow-md header-transition">
            <div class="container mx-auto px-6 py-2 flex justify-between items-center">
                <a href="#/home" class="text-xl font-bold text-green-700 nav-link">
                    Abhyuday High. Sec. School
                </a>
                <div class="hidden md:flex space-x-6 items-center">
                    <a href="#/home" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1">Home</a>
                    <a href="#/about" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1">About Us</a>
                    <a href="#/events" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1">Events</a>
                    <a href="#/gallery" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1">Gallery</a>
                    <a href="#/syllabus" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1">Syllabus</a>
                    <a href="#/contact" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition shadow-md">Contact</a>
                </div>
                <button id="mobile-menu-button" aria-label="Toggle menu" class="md:hidden p-2 rounded-lg hover:bg-gray-100 transition">
                    <svg class="w-6 h-6 text-green-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 bg-white shadow-lg transition-all duration-300 ease-in-out">
            <a href="#/home" class="block py-2 text-gray-600 hover:text-green-700 nav-link">Home</a>
            <a href="#/about" class="block py-2 text-gray-600 hover:text-green-700 nav-link">About Us</a>
            <a href="#/events" class="block py-2 text-gray-600 hover:text-green-700 nav-link">Events</a>
            <a href="#/gallery" class="block py-2 text-gray-600 hover:text-green-700 nav-link">Gallery</a>
            <a href="#/syllabus" class="block py-2 text-gray-600 hover:text-green-700 nav-link">Syllabus</a>
            <a href="#/contact" class="block mt-4 bg-green-600 text-white px-4 py-2 rounded-lg text-center hover:bg-green-700 shadow-md">Contact</a>
        </div>
    </header>

    <main>
        <!-- Home Page Content -->
        <div id="page-home" class="page-content">
            <!-- Hero Section -->
            <section class="hero-bg text-white h-[60vh] md:h-[80vh] flex items-center rounded-b-xl shadow-2xl">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-6xl font-extrabold mb-4 animate-fadeIn">Excellence in Education</h1>
                    <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto opacity-90">Providing a nurturing environment for students to learn, grow, and succeed in Neemuch, Madhya Pradesh.</p>
                </div>
            </section>
            <!-- Key Information Section -->
            <section id="home-services" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800">Essential Information</h2>
                        <p class="text-gray-600 mt-2">Find everything you need to know about our school community.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                        <!-- Admissions Card -->
                        <div id="open-admission-modal-home" class="bg-white p-8 rounded-xl shadow-xl transform hover:-translate-y-2 transition duration-300 cursor-pointer border-t-4 border-green-600/50">
                            <div class="bg-green-100 text-green-700 rounded-full h-16 w-16 flex items-center justify-center mb-6 shadow-inner">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                            </div>
                            <h3 class="text-2xl font-semibold mb-3">Admissions Open</h3>
                            <p class="text-gray-600">Click to fill out the admission form for the upcoming academic year.</p>
                        </div>
                        <!-- Syllabus Card -->
                        <a href="#/syllabus" class="block bg-white p-8 rounded-xl shadow-xl transform hover:-translate-y-2 transition duration-300 border-t-4 border-blue-500/50">
                            <div class="bg-green-100 text-green-700 rounded-full h-16 w-16 flex items-center justify-center mb-6 shadow-inner">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29-3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" /></svg>
                            </div>
                            <h3 class="text-2xl font-semibold mb-3">Syllabus Overview</h3>
                            <p class="text-gray-600">Explore our comprehensive curriculum for all classes.</p>
                        </a>
                    </div>
                </div>
            </section>

            <!-- About Us Section for Homepage -->
            <section id="home-about" class="py-16 md:py-24 bg-white">
                <div class="container mx-auto px-6">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="order-2 md:order-1">
                            <h2 class="text-3xl md:text-4xl font-bold text-green-800 mb-4">Welcome to Abhyuday High. Sec. School</h2>
                            <p class="text-gray-700 mb-6 leading-relaxed">
                                Abhyuday Higher Secondary School is a cornerstone of quality education in Neemuch, committed to academic rigor and holistic excellence. Under the proficient leadership of our principal and director, we foster an environment of critical thinking, moral values, and digital-first communication for our community.
                            </p>
                            <a href="#/about" class="bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition shadow-md inline-block">Learn More About Us</a>
                        </div>
                        <div class="order-1 md:order-2">
                            <img src="https://placehold.co/600x400/d1fae5/105943?text=Our+Campus" alt="Abhyuday School Campus" class="rounded-xl shadow-2xl w-full h-auto">
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Page Content -->
        <div id="page-about" class="page-content hidden">
            <section id="about" class="py-16 md:py-24 bg-white">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800">Welcome to Abhyuday Higher Secondary School</h2>
                        <p class="text-gray-600 mt-2">A reputed educational institution committed to shaping future leaders.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <img src="https://placehold.co/600x400/d1fae5/105943?text=Our+Leadership" alt="School Leadership" class="rounded-xl shadow-2xl w-full h-auto">
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold mb-4 text-green-700 border-b pb-2">Our Vision and Leadership</h3>
                            <p class="text-gray-700 mb-4 leading-relaxed">
                                Abhyuday Higher Secondary School is a cornerstone of quality education in Neemuch. We aim to provide a **digital-first experience** for parents and students, making academic information and school communication transparent and readily accessible.
                            </p>
                            <p class="text-gray-700 leading-relaxed">
                                Under the proficient leadership of **Principal Deshna Jain** and **Director/Owner Mr. Prakash Jain**, we are dedicated to academic rigor and holistic excellence, fostering critical thinking and moral values.
                            </p>
                            <blockquote class="mt-6 p-4 border-l-4 border-green-600 bg-gray-50 rounded-r-lg shadow-sm">
                                <p class="text-gray-600 italic">
                                    "Our mission is to improve communication and accessibility through modern, interactive technology to better serve our community."
                                </p>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Events Page Content -->
        <div id="page-events" class="page-content hidden">
            <section id="events" class="py-16 md:py-24 bg-white overflow-hidden">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800">School Life & Events Calendar</h2>
                        <p class="text-gray-600 mt-2">Celebrating learning, creativity, and sportsmanship throughout the year.</p>
                    </div>

                    <div id="event-slider-container" class="relative max-w-6xl mx-auto">
                        <div class="overflow-hidden rounded-xl shadow-2xl">
                            <!-- Slider Track -->
                            <div id="event-slider" class="flex">
                                <!-- Event Cards are inserted here by JS -->
                            </div>
                        </div>
                        <!-- Navigation Buttons -->
                        <button id="prev-event" aria-label="Previous event" class="absolute top-1/2 -left-4 transform -translate-y-1/2 bg-white/90 ring-4 ring-green-500 rounded-full p-3 shadow-xl hover:bg-green-100 transition z-10 hidden md:block">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                        </button>
                        <button id="next-event" aria-label="Next event" class="absolute top-1/2 -right-4 transform -translate-y-1/2 bg-white/90 ring-4 ring-green-500 rounded-full p-3 shadow-xl hover:bg-green-100 transition z-10 hidden md:block">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </button>
                    </div>
                     <!-- Mobile Swipe Hint -->
                    <div class="text-center mt-6 text-sm text-gray-500 md:hidden">
                        <i class="fas fa-arrows-alt-h mr-2"></i> Swipe left or right to see more events.
                    </div>
                </div>
            </section>
        </div>

        <!-- Gallery Page Content -->
        <div id="page-gallery" class="page-content hidden">
             <section id="gallery" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800">Our Campus Gallery</h2>
                        <p class="text-gray-600 mt-2">A glimpse into the vibrant life at Abhyuday School.</p>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
                        <a href="#" data-category="classroom" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                            <img src="https://placehold.co/500x500/d1fae5/105943?text=Classroom" alt="Classroom" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold">Classrooms</span>
                            </div>
                        </a>
                        <a href="#" data-category="science_lab" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                             <img src="https://placehold.co/500x500/6ee7b7/105943?text=Science+Lab" alt="Science Lab" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                             <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold">Science Lab</span>
                            </div>
                        </a>
                         <a href="#" data-category="assembly" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                             <img src="https://placehold.co/500x500/10b981/ffffff?text=Assembly" alt="Assembly" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                              <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold">Assembly</span>
                            </div>
                        </a>
                         <a href="#" data-category="computer_lab" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                            <img src="https://placehold.co/500x500/064e3b/ffffff?text=Computer+Lab" alt="Computer Lab" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                             <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold">Computer Lab</span>
                            </div>
                        </a>
                    </div>
                     <div class="text-center mt-6">
                        <p class="text-gray-600">If you want to see the photo of any item, click on it.</p>
                     </div>
                </div>
            </section>
        </div>

        <!-- Syllabus Page Content -->
        <div id="page-syllabus" class="page-content hidden">
            <section id="syllabus" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800">Curriculum & Syllabus</h2>
                        <p class="text-gray-600 mt-2">An overview of subjects offered across different levels as per the MP Board curriculum.</p>
                    </div>
                    <div class="max-w-5xl mx-auto bg-white p-6 sm:p-10 rounded-xl shadow-2xl">
                        <!-- Tabs -->
                        <div class="border-b border-gray-200">
                            <nav id="syllabus-tabs-page" class="flex flex-wrap -mb-px" aria-label="Tabs">
                                <a href="#" data-tab="pre-primary" class="syllabus-tab-page active-tab font-semibold text-sm px-4 py-3 rounded-t-lg transition">Pre-Primary</a>
                                <a href="#" data-tab="primary" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition">Primary (1-5)</a>
                                <a href="#" data-tab="middle" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition">Middle (6-8)</a>
                                <a href="#" data-tab="secondary" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition">Secondary (9-10)</a>
                                <a href="#" data-tab="higher-secondary" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition">Higher Secondary (11-12)</a>
                            </nav>
                        </div>
                        <!-- Tab Content -->
                        <div id="syllabus-content-page" class="mt-8">
                            <div data-content="pre-primary" class="syllabus-content-pane-page">
                                <h3 class="text-2xl font-bold mb-4 text-green-700">Pre-Primary (Nursery, LKG, UKG)</h3>
                                <p class="text-gray-600 mb-6">Focus on foundational learning through **play-based activities**, ensuring cognitive, social, and motor skill development.</p>
                                <div class="grid md:grid-cols-2 gap-8">
                                    <div class="p-4 bg-green-50 rounded-lg">
                                        <h4 class="font-bold text-green-800 border-b border-green-300 pb-2 mb-3 flex items-center"><i class="fas fa-globe mr-2"></i> English Medium Focus</h4>
                                        <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                            <li>English (Phonics, Rhymes, Writing)</li>
                                            <li>Mathematics (Numbers, Shapes, Colors)</li>
                                            <li>General Awareness (Fruits, Animals, Our Body)</li>
                                            <li>Art & Craft, Music, and Dance</li>
                                        </ul>
                                    </div>
                                    <div class="p-4 bg-green-50 rounded-lg">
                                        <h4 class="font-bold text-green-800 border-b border-green-300 pb-2 mb-3 flex items-center"><i class="fas fa-language mr-2"></i> Hindi Medium Focus</h4>
                                        <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">
                                            <li>Hindi (Akshar Gyan, Kavita, Likhai)</li>
                                            <li>Ganit (Ank, Aakriti, Rang)</li>
                                            <li>Samanya Gyan (Phal, Janwar, Hamara Sharir)</li>
                                            <li>Kala, Sangeet, aur Nritya</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div data-content="primary" class="syllabus-content-pane-page hidden">
                                <h3 class="text-2xl font-bold mb-4 text-green-700">Primary (Classes 1 - 5)</h3>
                                <p class="text-gray-600 mb-6">Building **core academic skills** in literacy, numeracy, and environmental awareness.</p>
                                <div class="space-y-4">
                                    <div class="p-4 bg-green-50 rounded-lg">
                                        <h4 class="font-bold text-green-800">Languages (English & Hindi)</h4>
                                        <ul class="list-disc list-inside mt-2 text-gray-700 text-sm space-y-1">
                                            <li>Grammar and Vocabulary Building</li>
                                            <li>Reading Comprehension and Story Telling</li>
                                            <li>Creative Writing and Composition</li>
                                        </ul>
                                    </div>
                                    <div class="p-4 bg-green-50 rounded-lg">
                                        <h4 class="font-bold text-green-800">Mathematics</h4>
                                        <ul class="list-disc list-inside mt-2 text-gray-700 text-sm space-y-1">
                                            <li>Number System and Arithmetic Operations</li>
                                            <li>Basic Geometry: Shapes and Spatial Understanding</li>
                                            <li>Measurement of Length, Weight, and Capacity</li>
                                            <li>Introduction to Data Handling</li>
                                        </ul>
                                    </div>
                                    <div class="p-4 bg-green-50 rounded-lg">
                                        <h4 class="font-bold text-green-800">Environmental Studies (EVS)</h4>
                                        <ul class="list-disc list-inside mt-2 text-gray-700 text-sm space-y-1">
                                            <li>Our Body, Family, and Festivals</li>
                                            <li>Plants, Animals, and Our Environment</li>
                                            <li>Water, Air, and Weather</li>
                                        </ul>
                                    </div>
                                    <div class="p-4 bg-green-50 rounded-lg">
                                        <h4 class="font-bold text-green-800">Other Subjects</h4>
                                         <ul class="list-disc list-inside mt-2 text-gray-700 text-sm space-y-1">
                                            <li>Computer Science: Basic digital literacy and MS Office</li>
                                            <li>General Knowledge & Moral Science</li>
                                            <li>Art, Craft, Music, and Physical Education</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div data-content="middle" class="syllabus-content-pane-page hidden">
                                <h3 class="text-2xl font-bold mb-4 text-green-700">Middle (Classes 6 - 8)</h3>
                                <p class="text-gray-600 mb-6">Transitioning to **specialized subjects** with an introduction to core scientific and social principles.</p>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="p-4 bg-green-50 rounded-lg space-y-3">
                                        <div>
                                            <h4 class="font-bold text-green-800">Languages</h4>
                                            <p class="text-sm text-gray-700">English, Hindi, and Sanskrit (as third language)</p>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-green-800">Mathematics</h4>
                                             <p class="text-sm text-gray-700">Algebra, Geometry, Mensuration, and Data Handling.</p>
                                        </div>
                                         <div>
                                            <h4 class="font-bold text-green-800">Computer Science</h4>
                                             <p class="text-sm text-gray-700">Programming basics, Internet concepts, and advanced tools.</p>
                                        </div>
                                    </div>
                                    <div class="p-4 bg-green-50 rounded-lg space-y-3">
                                        <div>
                                            <h4 class="font-bold text-green-800">Science</h4>
                                            <ul class="list-disc list-inside mt-1 text-gray-700 text-sm space-y-1">
                                                <li><b>Physics:</b> Motion, Force, Light, Electricity</li>
                                                <li><b>Chemistry:</b> Matter, Atoms, Acids & Bases, Metals</li>
                                                <li><b>Biology:</b> Cells, Microorganisms, Conservation</li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h4 class="font-bold text-green-800">Social Science</h4>
                                             <ul class="list-disc list-inside mt-1 text-gray-700 text-sm space-y-1">
                                                <li><b>History:</b> Ancient, Medieval, and Modern India</li>
                                                <li><b>Civics:</b> Constitution, Government, Democracy</li>
                                                <li><b>Geography:</b> Earth, Resources, Agriculture</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div data-content="secondary" class="syllabus-content-pane-page hidden">
                                <h3 class="text-2xl font-bold mb-4 text-green-700">Secondary (Classes 9 - 10)</h3>
                                <p class="text-gray-600 mb-6">Preparing students for **board examinations** with a structured, intensive curriculum.</p>
                                <h4 class="font-bold text-green-800 border-b border-green-300 pb-2 mb-3">Compulsory Subjects (MP Board)</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 space-y-2 grid sm:grid-cols-2">
                                    <li>Hindi (Course A/B)</li>
                                    <li>English (Language & Literature)</li>
                                    <li>Mathematics (Standard / Basic)</li>
                                    <li>Science (Theory & Practical)</li>
                                    <li>Social Science (History, Geography, Economics, Political Science)</li>
                                </ul>
                            </div>
                            <div data-content="higher-secondary" class="syllabus-content-pane-page hidden">
                                <h3 class="text-2xl font-bold mb-4 text-green-700">Higher Secondary (Classes 11 - 12)</h3>
                                <p class="text-gray-600 mb-6">Offering specialized streams to align with **career aspirations** and higher education pathways.</p>
                                <div class="space-y-6">
                                    <div class="p-4 border border-green-200 rounded-lg">
                                        <h4 class="font-bold text-green-800">Science Stream</h4>
                                        <p class="text-gray-700 mt-1">Physics, Chemistry, **Mathematics / Biology**, English, Hindi.</p>
                                    </div>
                                    <div class="p-4 border border-green-200 rounded-lg">
                                        <h4 class="font-bold text-green-800">Commerce Stream</h4>
                                        <p class="text-gray-700 mt-1">Accountancy, Business Studies, Economics, English, Hindi. (Optional: Informatics Practices).</p>
                                    </div>
                                    <div class="p-4 border border-green-200 rounded-lg">
                                        <h4 class="font-bold text-green-800">Arts Stream</h4>
                                        <p class="text-gray-700 mt-1">History, Political Science, Sociology, Economics, English, Hindi.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12 text-center">
                        <a href="#/contact" class="inline-flex items-center text-green-600 hover:text-green-800 font-semibold transition">
                            <i class="fas fa-info-circle mr-2"></i> For a detailed class-wise syllabus, please contact the school office.
                        </a>
                    </div>
                </div>
            </section>
        </div>

        <!-- Contact Page Content -->
        <div id="page-contact" class="page-content hidden">
            <section id="contact" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800">Get in Touch with Abhyuday High. Sec. School</h2>
                        <p class="text-gray-600 mt-2">We are here to answer your questions regarding admissions, curriculum, and general school operations.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-12 items-start max-w-6xl mx-auto">
                        <div class="bg-white p-8 rounded-xl shadow-2xl border-l-4 border-green-600">
                            <h3 class="text-2xl font-bold text-green-700 mb-6">School Contact Details</h3>
                            <div class="space-y-6">
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mt-1 mr-4 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                                    <div>
                                        <p class="font-semibold text-gray-800">Address</p>
                                        <p class="text-gray-600">10 Jaroli Bhawan, Dusshera Maidan, Neemuch</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mt-1 mr-4 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                                    <div>
                                        <p class="font-semibold text-gray-800">Phone</p>
                                        <a href="tel:+919111980203" class="text-green-600 hover:text-green-800 transition">9111980203</a>,
                                        <a href="tel:+919826109798" class="text-green-600 hover:text-green-800 transition">9826109798</a>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mt-1 mr-4 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                    <div>
                                        <p class="font-semibold text-gray-800">Email</p>
                                        <a href="mailto:abhyudayhssnnh@gmail.com" class="text-green-600 hover:text-green-800 transition">abhyudayhssnnh@gmail.com</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Inquiry Form -->
                        <div class="bg-white p-8 rounded-xl shadow-2xl">
                            <h3 class="text-2xl font-bold text-green-700 mb-6">Send an Inquiry</h3>
                            <form id="inquiryForm">
                                <div class="mb-5">
                                    <label for="name" class="block mb-2 font-medium text-gray-700">Full Name</label>
                                    <input type="text" id="name" name="name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition" placeholder="Parent's Name" required>
                                </div>
                                <div class="mb-5">
                                    <label for="email" class="block mb-2 font-medium text-gray-700">Email Address</label>
                                    <input type="email" id="email" name="email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition" placeholder="you@example.com" required>
                                </div>
                                <div class="mb-5">
                                    <label for="message" class="block mb-2 font-medium text-gray-700">Your Message/Inquiry</label>
                                    <textarea id="message" name="message" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition" placeholder="I would like to know about class 1 admission..." required></textarea>
                                </div>
                                <button type="submit" id="inquiry-submit-btn" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition shadow-lg">Submit Inquiry</button>
                            </form>
                            <p id="form-success" class="bg-green-100 border border-green-400 text-green-700 p-3 rounded-lg mt-4 hidden text-center font-medium"><i class='fas fa-check-circle mr-2'></i> Thank you! Your inquiry has been sent. We will contact you shortly.</p>
                            <p id="form-error" class="bg-red-100 border border-red-400 text-red-700 p-3 rounded-lg mt-4 hidden text-center font-medium"><i class='fas fa-exclamation-triangle mr-2'></i> Something went wrong. Please try again.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="relative text-white py-12 bg-green-900">
        <!-- Background Overlay -->
        <div class="absolute inset-0 bg-green-900 bg-opacity-95"></div>

        <div class="container mx-auto px-6 relative z-10">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12">
                <!-- School Info & Social Links -->
                <div class="col-span-2 md:col-span-1">
                    <h3 class="text-xl font-bold text-green-300">Abhyuday High. Sec. School</h3>
                    <p class="mt-4 text-gray-300 text-sm">Committed to academic and holistic excellence in Neemuch. **Affiliated with MP Board.**</p>
                    <div class="flex space-x-4 mt-6">
                        <a href="#" aria-label="Facebook" class="text-gray-300 hover:text-green-400 transition transform hover:scale-110"><i class="fab fa-facebook-f text-lg"></i></a>
                        <a href="#" aria-label="YouTube" class="text-gray-300 hover:text-green-400 transition transform hover:scale-110"><i class="fab fa-youtube text-lg"></i></a>
                        <a href="#" aria-label="Instagram" class="text-gray-300 hover:text-green-400 transition transform hover:scale-110"><i class="fab fa-instagram text-lg"></i></a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="font-semibold tracking-wider uppercase text-green-200 mb-4">Quick Links</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#/about" class="text-gray-300 hover:text-white transition nav-link">About Us</a></li>
                        <li><a href="#/events" class="text-gray-300 hover:text-white transition nav-link">Events & News</a></li>
                        <li><a href="#/gallery" class="text-gray-300 hover:text-white transition nav-link">School Gallery</a></li>
                    </ul>
                </div>

                <!-- Support Links -->
                <div>
                    <h4 class="font-semibold tracking-wider uppercase text-green-200 mb-4">Support</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#" id="open-admission-modal-footer" class="text-gray-300 hover:text-white transition">Online Admission Form</a></li>
                        <li><a href="#/syllabus" class="text-gray-300 hover:text-white transition nav-link">Syllabus Details</a></li>
                        <li><a href="#/contact" class="text-gray-300 hover:text-white transition nav-link">Contact Admissions</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div class="col-span-2 md:col-span-1">
                     <h4 class="font-semibold tracking-wider uppercase text-green-200 mb-4">Contact Info</h4>
                     <div class="space-y-4 text-sm">
                         <p class="flex items-center text-gray-300">
                            <i class="fas fa-phone mr-3 w-4 text-center text-green-400"></i>
                            <span>
                                <a href="tel:+919111980203" class="hover:text-white transition">9111980203</a>,
                                <a href="tel:+919826109798" class="hover:text-white transition">9826109798</a>
                            </span>
                         </p>
                         <p class="flex items-center text-gray-300">
                            <i class="fas fa-envelope mr-3 w-4 text-center text-green-400"></i>
                            <a href="mailto:abhyudayhssnnh@gmail.com" class="hover:text-white transition">abhyudayhssnnh@gmail.com</a>
                        </p>
                        <p class="flex items-start text-gray-300">
                            <i class="fas fa-map-marker-alt mt-1 mr-3 w-4 text-center text-green-400"></i>
                            <span>10 Jaroli Bhawan, Dusshera Maidan, Neemuch</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="mt-10 border-t border-green-700/50 pt-6 text-center text-sm text-gray-400">
                <p>&copy; <span id="current-year"></span> Abhyuday Higher Secondary School. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Admission Form Modal -->
    <div id="admission-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4 transition-opacity duration-300 opacity-0" aria-modal="true" role="dialog">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto transform scale-95 transition-transform duration-300 ease-out">
            <div class="p-6 border-b sticky top-0 bg-white z-10 rounded-t-xl">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-green-800">Admission Application (2026-2027)</h2>
                    <button id="close-admission-modal" aria-label="Close admission form" class="text-gray-500 hover:text-gray-800 text-3xl font-light p-2 rounded-full hover:bg-gray-100 transition">&times;</button>
                </div>
                <p class="text-gray-600 text-sm mt-1">Please fill in the details below to initiate the application process.</p>
            </div>
            <form id="admissionForm" class="p-6">
                <!-- Form sections remain the same but labels and placeholders need data attributes -->
                <div class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50">
                    <h3 class="text-lg font-bold text-gray-800 border-b pb-2 mb-4 text-green-700">Student's Details</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="studentName" class="block mb-2 font-medium text-gray-700">Full Name</label>
                            <input type="text" id="studentName" name="studentName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" placeholder="Student's Name" required>
                        </div>
                        <div>
                            <label for="dob" class="block mb-2 font-medium text-gray-700">Date of Birth</label>
                            <input type="date" id="dob" name="dob" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" required>
                        </div>
                    </div>
                </div>
                 <div class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50">
                    <h3 class="text-lg font-bold text-gray-800 border-b pb-2 mb-4 text-green-700">Parent/Guardian's Details</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="guardianName" class="block mb-2 font-medium text-gray-700">Guardian Name</label>
                            <input type="text" id="guardianName" name="guardianName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" required>
                        </div>
                        <div>
                            <label for="contactNumber" class="block mb-2 font-medium text-gray-700">Contact Number</label>
                            <input type="tel" id="contactNumber" name="contactNumber" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" required>
                        </div>
                         <div class="md:col-span-2">
                            <label for="address" class="block mb-2 font-medium text-gray-700">Full Address</label>
                            <textarea id="address" name="address" rows="3" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" required></textarea>
                        </div>
                    </div>
                </div>
                <div class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50">
                    <h3 class="text-lg font-bold text-gray-800 border-b pb-2 mb-4 text-green-700">Academic Information</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="admissionClass" class="block mb-2 font-medium text-gray-700">Applying for Class</label>
                            <select id="admissionClass" name="admissionClass" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" required>
                                <option value="" disabled selected>Select a class</option>
                                <optgroup label="Pre-Primary">
                                    <option value="Nursery">Nursery</option>
                                    <option value="LKG">LKG</option>
                                    <option value="UKG">UKG</option>
                                </optgroup>
                                <optgroup label="Primary (1st - 5th)">
                                    <option value="1">Class 1</option>
                                    <option value="2">Class 2</option>
                                    <option value="3">Class 3</option>
                                    <option value="4">Class 4</option>
                                    <option value="5">Class 5</option>
                                </optgroup>
                                <optgroup label="Middle (6th - 8th)">
                                    <option value="6">Class 6</option>
                                    <option value="7">Class 7</option>
                                    <option value="8">Class 8</option>
                                </optgroup>
                                 <optgroup label="Secondary (9th - 10th)">
                                    <option value="9">Class 9</option>
                                    <option value="10">Class 10</option>
                                </optgroup>
                                <optgroup label="Higher Secondary (11th - 12th)">
                                    <option value="11">Class 11</option>
                                    <option value="12">Class 12</option>
                                </optgroup>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-2 font-medium text-gray-700">Medium</label>
                            <div class="flex items-center space-x-4 mt-3 p-2 border border-gray-300 rounded-lg bg-white h-[48px]">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="medium" value="English" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500" checked>
                                    <span class="ml-2 text-gray-700">English Medium</span>
                                </label>
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="medium" value="Hindi" class="h-4 w-4 text-green-600 border-gray-300 focus:ring-green-500">
                                    <span class="ml-2 text-gray-700">Hindi Medium</span>
                                </label>
                            </div>
                        </div>
                        <div class="md:col-span-2">
                             <label for="previousSchool" class="block mb-2 font-medium text-gray-700">Previous School Name (if any)</label>
                            <input type="text" id="previousSchool" name="previousSchool" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500" placeholder="Last school attended">
                        </div>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button type="submit" id="admission-submit-btn" class="bg-green-600 text-white font-bold py-3 px-10 rounded-lg hover:bg-green-700 transition shadow-xl text-lg">Submit Application</button>
                </div>
            </form>
            <!-- Success/Error Messages for Admission Form -->
            <div id="admissionForm-success" class="p-6 text-center hidden">
                <i class="far fa-check-circle text-6xl text-green-500 mb-4 animate-bounce"></i>
                <h3 class="text-2xl font-bold text-green-700 mb-2">Application Submitted!</h3>
                <p class="text-gray-700">Your admission form has been received successfully. Our team will review your application and contact the guardian soon.</p>
                <button id="close-success-modal" class="mt-6 bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition shadow-md">Close</button>
            </div>
             <p id="admissionForm-error" class="bg-red-100 border border-red-400 text-red-700 p-6 text-center hidden font-semibold rounded-b-xl">An error occurred while submitting your application. Please check your details and try again.</p>
        </div>
    </div>

    <!-- Gallery Viewer Modal -->
    <div id="gallery-viewer-modal" class="fixed inset-0 bg-black bg-opacity-90 z-[60] p-4 hidden items-center justify-center transition-opacity duration-300">
        <div class="relative w-full h-full flex items-center justify-center">
            <!-- Close Button -->
            <button id="close-viewer-btn" class="absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition z-10">&times;</button>
            <!-- Prev Button -->
            <button id="prev-image-btn" class="absolute left-4 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <!-- Image Container -->
            <div class="max-w-4xl max-h-[85vh] flex flex-col items-center">
                 <img id="viewer-image" src="" alt="Gallery image" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl">
                 <p id="viewer-caption" class="text-white text-center mt-4 font-medium"></p>
            </div>
            <!-- Next Button -->
            <button id="next-image-btn" class="absolute right-4 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
        </div>
    </div>


    <!-- JavaScript & Firebase Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        document.addEventListener('DOMContentLoaded', () => {

            // Set debug level for Firestore logging
            setLogLevel('debug');
            
            // --- FIREBASE INITIALIZATION ---
            let db;
            try {
                const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
                const app = initializeApp(firebaseConfig);
                const auth = getAuth(app);
                db = getFirestore(app);

                // Authenticate user for Firestore access
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    signInAnonymously(auth);
                }
                console.log("Firebase initialized and attempting anonymous sign-in.");
            } catch (error) {
                console.error("Firebase initialization failed:", error);
            }

            // --- HEADER SCROLL EFFECT ---
            const mainNav = document.getElementById('main-nav');
            const topBar = document.getElementById('top-bar');
            let isTopBarVisible = true;

            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    mainNav.classList.add('header-scrolled');
                    if (isTopBarVisible) {
                        topBar.style.maxHeight = '0';
                        topBar.style.opacity = '0';
                        topBar.style.paddingTop = '0';
                        topBar.style.paddingBottom = '0';
                        isTopBarVisible = false;
                    }
                } else {
                    mainNav.classList.remove('header-scrolled');
                    if (!isTopBarVisible) {
                         topBar.style.maxHeight = '50px'; /* Allow transition */
                         topBar.style.opacity = '1';
                         topBar.style.paddingTop = '0.5rem';
                         topBar.style.paddingBottom = '0.5rem';
                        isTopBarVisible = true;
                    }
                }
            }, { passive: true });

            // --- SPA ROUTING LOGIC ---
            const pageContents = document.querySelectorAll('.page-content');
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileMenu = document.getElementById('mobile-menu');

            const handleRouteChange = () => {
                const hash = window.location.hash || '#/home';
                const route = hash.substring(2) || 'home'; // remove '#/'

                pageContents.forEach(page => {
                    if (page.id === `page-${route}`) {
                        page.classList.remove('hidden');
                        if (page.id === 'page-events') {
                            // Delay initialization slightly to ensure the browser performs layout reflow after making the page visible.
                            setTimeout(() => {
                                initializeEventSlider();
                            }, 50);
                        }
                    } else {
                        page.classList.add('hidden');
                    }
                });

                // Update active link class
                navLinks.forEach(link => {
                    const linkRoute = new URL(link.href).hash;
                    if (linkRoute.endsWith(`/${route}`)) {
                        link.classList.add('active-nav-link');
                    } else {
                        link.classList.remove('active-nav-link');
                    }
                });

                // Close mobile menu on navigation
                mobileMenu.classList.add('hidden');
                window.scrollTo(0, 0);
            };

            window.addEventListener('hashchange', handleRouteChange);
            handleRouteChange(); // Initial load

            // Mobile Menu Toggle
            document.getElementById('mobile-menu-button').addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // --- CONTACT INQUIRY FORM SUBMISSION ---
            const inquiryForm = document.getElementById('inquiryForm');
            const inquirySubmitBtn = document.getElementById('inquiry-submit-btn');
            const inquirySuccessMsg = document.getElementById('form-success');
            const inquiryErrorMsg = document.getElementById('form-error');

            inquiryForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                inquirySuccessMsg.classList.add('hidden');
                inquiryErrorMsg.classList.add('hidden');
                inquirySubmitBtn.textContent = 'Sending...';
                inquirySubmitBtn.disabled = true;


                if (!db) {
                    inquiryErrorMsg.innerHTML = `<i class='fas fa-exclamation-triangle mr-2'></i> Database connection not available.`;
                    inquiryErrorMsg.classList.remove('hidden');
                    inquirySubmitBtn.textContent = 'Submit Inquiry';
                    inquirySubmitBtn.disabled = false;
                    return;
                }

                try {
                    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                    const inquiryData = {
                        name: inquiryForm.name.value,
                        email: inquiryForm.email.value,
                        message: inquiryForm.message.value,
                        submittedAt: serverTimestamp()
                    };
                    await addDoc(collection(db, `/artifacts/${appId}/public/data/inquiries`), inquiryData);

                    inquirySuccessMsg.classList.remove('hidden');
                    inquiryForm.reset();
                    inquirySubmitBtn.textContent = 'Submitted!';
                    setTimeout(() => {
                        inquirySuccessMsg.classList.add('hidden');
                        inquirySubmitBtn.textContent = 'Submit Inquiry';
                        inquirySubmitBtn.disabled = false;
                    }, 5000);
                } catch (error) {
                    console.error("Error submitting inquiry: ", error);
                    inquiryErrorMsg.classList.remove('hidden');
                    inquirySubmitBtn.textContent = 'Submit Inquiry';
                    inquirySubmitBtn.disabled = false;
                    setTimeout(() => inquiryErrorMsg.classList.add('hidden'), 5000);
                }
            });

            // --- REUSABLE MODAL LOGIC (Admission Form) ---
            const modal = document.getElementById('admission-modal');
            const closeBtn = document.getElementById('close-admission-modal');
            const closeSuccessBtn = document.getElementById('close-success-modal');
            const openBtns = document.querySelectorAll('#open-admission-modal-home, #open-admission-modal-footer');

            const openModal = () => {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                setTimeout(() => { // Allow display change before transition
                    modal.classList.add('opacity-100');
                    modal.querySelector('div.bg-white').classList.remove('scale-95');
                }, 10);
                document.body.classList.add('overflow-hidden');
            };

            const closeModal = () => {
                modal.classList.remove('opacity-100');
                modal.querySelector('div.bg-white').classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    document.body.classList.remove('overflow-hidden');
                    // Reset form state after closing
                    document.getElementById('admissionForm').classList.remove('hidden');
                    document.getElementById('admissionForm-success').classList.add('hidden');
                    document.getElementById('admissionForm-error').classList.add('hidden');
                    document.getElementById('admissionForm').reset();
                }, 300);
            };

            openBtns.forEach(btn => btn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal();
            }));
            closeBtn.addEventListener('click', closeModal);
            closeSuccessBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', e => {
                if (e.target === modal) closeModal();
            });
            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
            });

            // --- ADMISSION FORM SUBMISSION WITH FIREBASE ---
            const admissionForm = document.getElementById('admissionForm');
            admissionForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const successView = document.getElementById('admissionForm-success');
                const errorView = document.getElementById('admissionForm-error');
                const submitButton = document.getElementById('admission-submit-btn');

                submitButton.textContent = 'Submitting...';
                submitButton.disabled = true;
                errorView.classList.add('hidden');

                if (!db) {
                    errorView.classList.remove('hidden');
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit Application';
                    return;
                }

                try {
                    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                    const formData = new FormData(admissionForm);
                    const admissionData = {
                        studentName: formData.get('studentName'),
                        dob: formData.get('dob'),
                        guardianName: formData.get('guardianName'),
                        contactNumber: formData.get('contactNumber'),
                        address: formData.get('address'),
                        admissionClass: formData.get('admissionClass'),
                        medium: formData.get('medium'),
                        previousSchool: formData.get('previousSchool'),
                        submittedAt: serverTimestamp()
                    };

                    await addDoc(collection(db, `/artifacts/${appId}/public/data/admissions`), admissionData);

                    admissionForm.classList.add('hidden');
                    successView.classList.remove('hidden');
                } catch(error) {
                    console.error("Error saving admission form: ", error);
                    errorView.classList.remove('hidden');
                    submitButton.disabled = false;
                    submitButton.textContent = 'Submit Application';
                }
            });


            // --- SYLLABUS TABS LOGIC ---
            const syllabusTabsPage = document.querySelectorAll('.syllabus-tab-page');
            const syllabusContentPanesPage = document.querySelectorAll('.syllabus-content-pane-page');
            syllabusTabsPage.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    syllabusTabsPage.forEach(item => {
                        item.classList.remove('active-tab');
                        item.classList.remove('text-green-700');
                        item.classList.add('text-gray-600');
                    });
                    tab.classList.add('active-tab');
                    tab.classList.remove('text-gray-600');
                    tab.classList.add('text-green-700');

                    syllabusContentPanesPage.forEach(pane => pane.classList.add('hidden'));
                    const tabId = tab.getAttribute('data-tab');
                    document.querySelector(`.syllabus-content-pane-page[data-content="${tabId}"]`).classList.remove('hidden');
                });
            });


            // --- EVENT SLIDER LOGIC (REFACTORED) ---
            const eventsData = [
                { 
                    img: 'https://placehold.co/600x400/3b82f6/ffffff?text=Yoga+Day', date: '2025-06-21', title: 'International Yoga Day', desc: 'Embracing wellness and inner peace with a school-wide yoga session for students and teachers.', color: 'blue',
                    gallery: [
                        { src: 'IMG-20251004-WA0034.jpg', alt: 'Students performing pranayama during the Yoga Day session.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/22c55e/ffffff?text=Tree+Plantation', date: '2025-07-05', title: 'Tree Plantation Drive', desc: 'A green initiative by our students to contribute to a healthier environment. Every sapling counts!', color: 'green',
                    gallery: [
                        { src: 'IMG-20251004-WA0023.jpg', alt: 'Students planting a sapling during the drive.' },
                        { src: 'IMG-20251004-WA0028.jpg', alt: 'A teacher and students pose with a newly planted sapling.' },
                        { src: 'IMG-20251004-WA0039.jpg', alt: 'School staff and students participating together in the tree plantation event.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/ef4444/ffffff?text=Independence+Day', date: '2025-08-15', title: 'Independence Day', desc: 'Celebrating the spirit of freedom with a flag hoisting ceremony and patriotic cultural programs.', color: 'red',
                    gallery: [
                        { src: 'IMG-20251004-WA0021.jpg', alt: 'Students and teachers celebrating Independence Day.' },
                        { src: 'independence-day (2).jpg', alt: 'Young students performing on Independence Day.' },
                        { src: 'independence-day.jpg', alt: 'Students performing a cultural dance for Independence Day.' },
                        { src: 'IMG-20251004-WA0022.jpg', alt: 'Students in costume for an Independence Day performance.' },
                        { src: 'WhatsApp Image 2025-10-04 at 12.17.39_f016b238.jpg', alt: 'Students and teachers on stage receiving an award.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/a855f7/ffffff?text=Janmashtami', date: '2025-08-26', title: 'Janmashtami Celebration', desc: 'Celebrating the birth of Lord Krishna with Dahi Handi, cultural performances, and devotional songs.', color: 'purple',
                    gallery: [
                        { src: 'IMG-20251004-WA0019.jpg', alt: 'Students dressed as Krishna and Radha for the celebration.' },
                        { src: 'IMG-20251004-WA0009.jpg', alt: 'Young students in adorable Krishna and Radha costumes.' },
                        { src: 'IMG-20251004-WA0026.jpg', alt: 'A group of children in festive attire for Janmashtami.' },
                        { src: 'IMG-20251004-WA0027.jpg', alt: 'Students and teachers gathered on stage for the Janmashtami event.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/f97316/ffffff?text=Navratri+Garba', date: '2025-10-02', title: 'Navratri Garba Celebration', desc: 'Join us for a vibrant evening of Garba and Dandiya to celebrate the festive spirit of Navratri.', color: 'yellow',
                    gallery: [
                         { src: 'IMG-20251004-WA0014.jpg', alt: 'Students performing Garba in colorful traditional dresses.' },
                         { src: 'IMG-20251004-WA0032.jpg', alt: 'A group of students performing a traditional dance.' },
                         { src: 'IMG-20251004-WA0037.jpg', alt: 'Students in beautiful traditional attire for Navratri.' },
                         { src: 'IMG-20251004-WA0040.jpg', alt: 'Students posing for a group photo in their performance costumes.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/14b8a6/ffffff?text=Annual+Function', date: '2026-02-18', title: 'Annual Function', desc: 'A spectacular evening of music, dance, and drama showcasing our students\' incredible talents.', color: 'teal',
                     gallery: [
                        { src: 'IMG-20251004-WA0015.jpg', alt: 'Students performing a skit about Meenakshi Temple and Golconda Fort.' },
                        { src: 'IMG-20251004-WA0018.jpg', alt: 'Students in costume for a performance about Jallianwala Bagh and Wagah Border.' },
                       ]
                }
            ];
            const currentDate = new Date('2025-10-05T16:31:00'); 

            eventsData.sort((a, b) => {
                const dateA = new Date(a.date), dateB = new Date(b.date);
                const aIsPast = dateA < currentDate, bIsPast = dateB < currentDate;
                if (aIsPast && !bIsPast) return 1;
                if (!aIsPast && bIsPast) return -1;
                if (!aIsPast && !bIsPast) return dateA - dateB;
                if (aIsPast && bIsPast) return dateB - dateA;
                return 0;
            });

            let currentIndex = 0;
            let intervalId;
            const totalSlides = eventsData.length;
            const slider = document.getElementById('event-slider');
            const prevBtn = document.getElementById('prev-event');
            const nextBtn = document.getElementById('next-event');
            const eventSliderContainer = document.getElementById('event-slider-container');

            const getSlidesPerView = () => window.innerWidth >= 1024 ? 3 : (window.innerWidth >= 768 ? 2 : 1);

            const updateSlider = (useTransition = true) => {
                if (!slider) return;
                const slidesPerView = getSlidesPerView();
                const maxIndex = Math.max(0, totalSlides - slidesPerView);
                currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));
                const slideWidth = 100 / slidesPerView;
                const offset = -currentIndex * slideWidth;
                slider.style.transition = useTransition ? 'transform 0.4s ease-in-out' : 'none';
                slider.style.transform = `translateX(${offset}%)`;

                if (prevBtn && nextBtn) {
                    prevBtn.disabled = currentIndex === 0;
                    nextBtn.disabled = currentIndex >= maxIndex;
                    prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
                    prevBtn.classList.toggle('cursor-not-allowed', prevBtn.disabled);
                    nextBtn.classList.toggle('opacity-50', nextBtn.disabled);
                    nextBtn.classList.toggle('cursor-not-allowed', nextBtn.disabled);
                }
            };
            
            const autoSlideNext = () => {
                const slidesPerView = getSlidesPerView();
                const maxIndex = Math.max(0, totalSlides - slidesPerView);
                currentIndex = (currentIndex + 1) > maxIndex ? 0 : currentIndex + 1;
                updateSlider();
            };
            
            const manualSlideNext = () => {
                const slidesPerView = getSlidesPerView();
                const maxIndex = Math.max(0, totalSlides - slidesPerView);
                if (currentIndex < maxIndex) currentIndex++;
                updateSlider();
            };
            
            const manualSlidePrev = () => {
                if (currentIndex > 0) currentIndex--;
                updateSlider();
            };

            const startAutoSlide = () => {
                stopAutoSlide();
                if (totalSlides > getSlidesPerView()) intervalId = setInterval(autoSlideNext, 4000);
            };

            const stopAutoSlide = () => clearInterval(intervalId);

            function initializeEventSlider() {
                if (!slider) return;
                if (slider.dataset.initialized) {
                    const slides = slider.querySelectorAll('.event-slide');
                    const slideWidth = 100 / getSlidesPerView();
                    slides.forEach(slide => { slide.style.width = `${slideWidth}%`; });
                    updateSlider(false);
                    return;
                }
                slider.innerHTML = '';
                const slidesPerView = getSlidesPerView();
                const slideWidth = 100 / slidesPerView;
                eventsData.forEach((event, index) => {
                    const eventDate = new Date(event.date);
                    const isPast = eventDate < currentDate;
                    const statusBadgeText = isPast ? 'Completed' : 'Upcoming';
                    const statusBadge = `<span class="text-xs font-bold ${isPast ? 'text-gray-700 bg-gray-200' : 'text-green-700 bg-green-100'} px-3 py-1 rounded-full absolute top-3 right-3 z-10 shadow-sm">${statusBadgeText}</span>`;
                    const formattedDate = eventDate.toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });
                    const colors = { red: 'bg-red-100 text-red-800', pink: 'bg-pink-100 text-pink-800', yellow: 'bg-yellow-100 text-yellow-800', purple: 'bg-purple-100 text-purple-800', green: 'bg-green-100 text-green-800', blue: 'bg-blue-100 text-blue-800', teal: 'bg-teal-100 text-teal-800' };
                    
                    const hasGallery = event.gallery && event.gallery.length > 0;
                    const cursorClass = hasGallery ? 'cursor-pointer' : '';

                    const cardHTML = `<div class="p-4 h-full">
                        <div data-event-index="${index}" class="bg-white rounded-xl shadow-lg overflow-hidden h-full flex flex-col transform transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] border-t-4 border-b-4 border-green-500/0 hover:border-green-500/50 ${cursorClass} group">
                            <div class="relative">
                                <img src="${event.img}" alt="${event.title}" class="w-full h-48 object-cover object-center" onerror="this.onerror=null;this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Error';">
                                ${statusBadge}
                                ${hasGallery ? `<div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                                    <span class="text-white font-bold text-lg flex items-center"><i class="far fa-images mr-2"></i> View Photos</span>
                                                </div>` : ''}
                            </div>
                            <div class="p-6 flex flex-col flex-grow">
                                <span class="text-xs font-semibold ${colors[event.color] || 'bg-gray-100 text-gray-800'} px-3 py-1 rounded-full self-start mb-2">${formattedDate}</span>
                                <h3 class="text-xl font-bold mb-3 text-green-800">${event.title}</h3>
                                <p class="text-gray-600 flex-grow">${event.desc}</p>
                            </div>
                        </div>
                    </div>`;

                    const slideWrapper = document.createElement('div');
                    slideWrapper.className = 'flex-shrink-0 event-slide';
                    slideWrapper.style.width = `${slideWidth}%`;
                    slideWrapper.innerHTML = cardHTML;
                    slider.appendChild(slideWrapper);
                });
                slider.dataset.initialized = 'true';
                updateSlider(false);
                startAutoSlide();

                // Add a single event listener to the slider for delegation
                slider.addEventListener('click', (e) => {
                    const card = e.target.closest('[data-event-index]');
                    if (!card) return;

                    const eventIndex = parseInt(card.dataset.eventIndex, 10);
                    const event = eventsData[eventIndex];

                    if (event && event.gallery && event.gallery.length > 0) {
                        openViewerWithData(event.gallery);
                    }
                });
            }
            
            if (prevBtn && nextBtn) {
                nextBtn.addEventListener('click', () => { manualSlideNext(); stopAutoSlide(); startAutoSlide(); });
                prevBtn.addEventListener('click', () => { manualSlidePrev(); stopAutoSlide(); startAutoSlide(); });
            }
            
            window.addEventListener('resize', () => {
                if (document.getElementById('page-events').classList.contains('hidden')) return;
                const slider = document.getElementById('event-slider');
                if(slider) slider.dataset.initialized = ''; // Force re-init on resize
                initializeEventSlider();
            }, { passive: true });
            
            if (eventSliderContainer) {
                let touchstartX = 0;
                eventSliderContainer.addEventListener('touchstart', e => { touchstartX = e.changedTouches[0].screenX; stopAutoSlide(); }, { passive: true });
                eventSliderContainer.addEventListener('touchend', e => {
                    const touchendX = e.changedTouches[0].screenX;
                    if (touchendX < touchstartX - 50) manualSlideNext();
                    if (touchendX > touchstartX + 50) manualSlidePrev();
                    startAutoSlide();
                });
            }

            // --- GALLERY VIEWER LOGIC ---
            const galleryData = {
                classroom: {
                    name: 'Classrooms',
                    images: [
                        { src: 'IMG-20251004-WA0038.jpg', alt: 'Students participating in a classroom activity with mangoes.' },
                        { src: 'classroom.jpg', alt: 'A teacher giving a lecture to students in a classroom.' }
                    ]
                },
                science_lab: {
                    name: 'Science Lab',
                    images: [
                        { src: 'lab.jpg', alt: 'A view of the physics lab with various equipment.' },
                        { src: 'Chemistry-lab.jpeg', alt: 'A view of the chemistry lab with chemicals and beakers.' },
                        { src: 'Bio-lab.jpg', alt: 'A view of the biology lab with anatomical models.' }
                    ]
                },
                assembly: {
                    name: 'Assembly Hall',
                    images: [
                        { src: 'Assembly.jpg', alt: 'Students gathered for the school assembly.' }
                    ]
                },
                computer_lab: {
                    name: 'Computer Lab',
                    images: [
                        { src: 'computer-lab.jpg', alt: 'Students working on computers in the well-equipped lab.' }
                    ]
                }
            };
            
            const viewerModal = document.getElementById('gallery-viewer-modal');
            const viewerImage = document.getElementById('viewer-image');
            const viewerCaption = document.getElementById('viewer-caption');
            const closeViewerBtn = document.getElementById('close-viewer-btn');
            const prevImageBtn = document.getElementById('prev-image-btn');
            const nextImageBtn = document.getElementById('next-image-btn');

            let currentCategoryImages = [];
            let currentImageIndex = 0;

            const updateImageViewer = () => {
                const image = currentCategoryImages[currentImageIndex];
                viewerImage.src = image.src;
                viewerImage.alt = image.alt;
                viewerCaption.textContent = `${image.alt} (${currentImageIndex + 1} / ${currentCategoryImages.length})`;

                prevImageBtn.disabled = currentImageIndex === 0;
                nextImageBtn.disabled = currentImageIndex === currentCategoryImages.length - 1;
                prevImageBtn.classList.toggle('opacity-50', prevImageBtn.disabled);
                nextImageBtn.classList.toggle('opacity-50', nextImageBtn.disabled);
            };

            const openViewerWithData = (images) => {
                if (!images || images.length === 0) return;
                currentCategoryImages = images;
                currentImageIndex = 0;
                updateImageViewer();
                viewerModal.classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
            };

            const openViewer = (category, index) => {
                const categoryData = galleryData[category];
                if (!categoryData || !categoryData.images.length) return;
                
                openViewerWithData(categoryData.images);
                currentImageIndex = index; // Set index after opening
                updateImageViewer();
            };

            const closeViewer = () => {
                viewerModal.classList.add('hidden');
                 document.body.classList.remove('overflow-hidden');
            };

            document.querySelectorAll('.gallery-category-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const category = e.currentTarget.dataset.category;
                    openViewer(category, 0); // Open the first image of the category
                });
            });

            closeViewerBtn.addEventListener('click', closeViewer);
            viewerModal.addEventListener('click', (e) => {
                 if (e.target === viewerModal) closeViewer();
            });

            prevImageBtn.addEventListener('click', () => {
                if (currentImageIndex > 0) {
                    currentImageIndex--;
                    updateImageViewer();
                }
            });

            nextImageBtn.addEventListener('click', () => {
                if (currentImageIndex < currentCategoryImages.length - 1) {
                    currentImageIndex++;
                    updateImageViewer();
                }
            });

            window.addEventListener('keydown', (e) => {
                if (viewerModal.classList.contains('hidden')) return;
                if (e.key === 'Escape') closeViewer();
                if (e.key === 'ArrowLeft') prevImageBtn.click();
                if (e.key === 'ArrowRight') nextImageBtn.click();
            });

        });
    </script>

</body>
</html>