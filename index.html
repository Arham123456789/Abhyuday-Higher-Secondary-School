<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abhyuday Higher Secondary School | Neemuch</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom background for the hero section */
        .hero-bg {
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://placehold.co/1920x1080/a2e6b8/1a202c?text=Abhyuday+Campus');
            background-size: cover;
            background-position: center;
        }
        /* Styles for Syllabus Tabs */
        .syllabus-tab-page {
            transition: all 0.2s ease-in-out;
            border-bottom-width: 4px;
            border-color: transparent;
        }
        .syllabus-tab-page:not(.active-tab):hover {
            transform: translateY(-2px);
            background-color: #f0fdf4; /* Light green background on hover */
        }
        .active-tab, .active-tab:hover {
            border-color: #16a34a; /* Tailwind's green-600 */
            color: #15803d; /* Tailwind's green-700 */
            transform: translateY(0);
            background-color: white;
            box-shadow: none;
        }
        /* Style for active navigation link */
        .active-nav-link {
            color: #15803d !important; /* Tailwind's green-700 */
            font-weight: 600 !important;
        }
        /* Custom styles for header scrolling effect */
        .header-transition {
            transition: padding 0.3s ease, box-shadow 0.3s ease;
        }
        .header-scrolled {
            padding-top: 0.75rem; /* py-3 */
            padding-bottom: 0.75rem; /* py-3 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        /* Styles for Gallery Modal */
        #gallery-viewer-modal.hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header -->
    <header class="sticky top-0 w-full z-50">
        <!-- Top Bar -->
        <div id="top-bar" class="bg-green-800 text-white transition-all duration-300 ease-in-out h-auto overflow-hidden">
            <div class="container mx-auto px-2 py-2 flex justify-between items-center text-sm">
                <div class="flex items-center space-x-4">
                    <a href="https://www.facebook.com/share/19uCXrKe9B/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" class="hover:text-gray-300 transition rounded-full"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/abhyuday150?igsh=bXhlNHpjeTlpbTk2" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="hover:text-gray-300 transition rounded-full"><i class="fab fa-instagram"></i></a>
                </div>
                <div class="flex items-center space-x-4 sm:space-x-6">
                    <button id="language-toggle" class="text-white hover:text-gray-300 transition text-lg" aria-label="Toggle language">
                        <i class="fas fa-globe"></i>
                    </button>
                    <a href="#/contact" class="border border-white rounded-lg px-3 py-1 hover:bg-white hover:text-green-800 transition text-xs sm:text-sm" data-translate="enquiryFormLink">Enquiry Form</a>
                    <div class="hidden sm:flex items-center space-x-2">
                        <i class="fas fa-phone-alt"></i>
                        <a href="tel:+919111980203" class="hover:text-gray-300 transition">9111980203</a>
                        <span class="text-gray-400">,</span>
                        <a href="tel:+919826109798" class="hover:text-gray-300 transition">9826109798</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Main Navigation -->
        <nav id="main-nav" class="bg-white shadow-md header-transition">
            <div class="container mx-auto px-2 py-2 flex justify-between items-center">
                <a href="#/home" class="flex items-center nav-link">
                    <img src="WhatsApp Image 2025-10-04 at 15.33.39_b4a0e95d.jpg" alt="Abhyuday School Logo" class="h-12 mr-3">
                    <div>
                        <span class="text-xl font-bold text-green-700" data-translate="schoolName">Abhyuday High. Sec. School</span>
                        <span class="block text-xs font-semibold text-gray-500 tracking-wider" data-translate="schoolLocation">Neemuch</span>
                    </div>
                </a>
                <div class="hidden md:flex space-x-6 items-center">
                    <a href="#/home" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1" data-translate="navHome">Home</a>
                    <a href="#/about" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1" data-translate="navAbout">About Us</a>
                    <a href="#/events" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1" data-translate="navEvents">Events</a>
                    <a href="#/gallery" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1" data-translate="navGallery">Gallery</a>
                    <a href="#/syllabus" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1" data-translate="navSyllabus">Syllabus</a>
                    <a href="#/result" class="text-gray-600 hover:text-green-700 transition nav-link rounded-lg px-2 py-1" data-translate="navResult">Result</a>
                    <a href="#/contact" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition shadow-md" data-translate="navContact">Contact</a>
                </div>
                <button id="mobile-menu-button" aria-label="Toggle menu" class="md:hidden p-2 rounded-lg hover:bg-gray-100 transition">
                    <svg class="w-6 h-6 text-green-700" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 bg-white shadow-lg transition-all duration-300 ease-in-out">
            <a href="#/home" class="block py-2 text-gray-600 hover:text-green-700 nav-link" data-translate="navHomeMobile">Home</a>
            <a href="#/about" class="block py-2 text-gray-600 hover:text-green-700 nav-link" data-translate="navAboutMobile">About Us</a>
            <a href="#/events" class="block py-2 text-gray-600 hover:text-green-700 nav-link" data-translate="navEventsMobile">Events</a>
            <a href="#/gallery" class="block py-2 text-gray-600 hover:text-green-700 nav-link" data-translate="navGalleryMobile">Gallery</a>
            <a href="#/syllabus" class="block py-2 text-gray-600 hover:text-green-700 nav-link" data-translate="navSyllabusMobile">Syllabus</a>
            <a href="#/result" class="block py-2 text-gray-600 hover:text-green-700 nav-link" data-translate="navResultMobile">Result</a>
            <a href="#/contact" class="block mt-4 bg-green-600 text-white px-4 py-2 rounded-lg text-center hover:bg-green-700 shadow-md" data-translate="navContactMobile">Contact</a>
        </div>
    </header>

    <main>
        <!-- Home Page Content -->
        <div id="page-home" class="page-content">
            <!-- Hero Section -->
            <section class="hero-bg text-white h-[60vh] md:h-[80vh] flex items-center rounded-b-xl shadow-2xl">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl md:text-6xl font-extrabold mb-4 animate-fadeIn" data-translate="heroTitle">Excellence in Education</h1>
                    <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto opacity-90" data-translate="heroSubtitle">Providing a nurturing environment for students to learn, grow, and succeed in Neemuch, Madhya Pradesh.</p>
                </div>
            </section>
            <!-- Key Information Section -->
            <section id="home-services" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="essentialInfoTitle">Essential Information</h2>
                        <p class="text-gray-600 mt-2" data-translate="essentialInfoSubtitle">Find everything you need to know about our school community.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                        <!-- Admissions Card -->
                        <div id="open-admission-modal-home" class="bg-white p-8 rounded-xl shadow-xl transform hover:-translate-y-2 transition duration-300 cursor-pointer border-t-4 border-green-600/50">
                            <div class="bg-green-100 text-green-700 rounded-full h-16 w-16 flex items-center justify-center mb-6 shadow-inner">
                               <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                            </div>
                            <h3 class="text-2xl font-semibold mb-3" data-translate="admissionCardTitle">Essential Document for Admission</h3>
                            <p class="text-gray-600" data-translate="admissionCardDesc">Click to view the list of essential documents for the upcoming academic year.</p>
                        </div>
                        <!-- Syllabus Card -->
                        <a href="#/syllabus" class="block bg-white p-8 rounded-xl shadow-xl transform hover:-translate-y-2 transition duration-300 border-t-4 border-blue-500/50">
                            <div class="bg-green-100 text-green-700 rounded-full h-16 w-16 flex items-center justify-center mb-6 shadow-inner">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 20 20" fill="currentColor"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29-3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" /></svg>
                            </div>
                            <h3 class="text-2xl font-semibold mb-3" data-translate="syllabusCardTitle">Syllabus Overview</h3>
                            <p class="text-gray-600" data-translate="syllabusCardDesc">Explore our comprehensive curriculum for all classes.</p>
                        </a>
                    </div>
                </div>
            </section>

            <!-- About Us Section for Homepage -->
            <section id="home-about" class="py-16 md:py-24 bg-white">
                <div class="container mx-auto px-6">
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div class="order-2 md:order-1">
                            <h2 class="text-3xl md:text-4xl font-bold text-green-800 mb-4" data-translate="welcomeTitle">Welcome to Abhyuday High. Sec. School</h2>
                            <p class="text-gray-700 mb-6 leading-relaxed" data-translate="welcomeDesc">
                                Abhyuday Higher Secondary School is a cornerstone of quality education in Neemuch, committed to academic rigor and holistic excellence. Under the proficient leadership of our principal and director, we foster an environment of critical thinking, moral values, and digital-first communication for our community.
                            </p>
                            <a href="#/about" class="bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition shadow-md inline-block" data-translate="learnMoreBtn">Learn More About Us</a>
                        </div>
                        <div class="order-1 md:order-2">
                            <img src="https://placehold.co/600x400/d1fae5/105943?text=Our+Campus" alt="Abhyuday School Campus" class="rounded-xl shadow-2xl w-full h-auto">
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- About Page Content -->
        <div id="page-about" class="page-content hidden">
            <section id="about" class="py-16 md:py-24 bg-white">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="aboutPageTitle">Welcome to Abhyuday Higher Secondary School</h2>
                        <p class="text-gray-600 mt-2" data-translate="aboutPageSubtitle">A reputed educational institution committed to shaping future leaders.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-12 items-center">
                        <div>
                            <img src="https://placehold.co/600x400/d1fae5/105943?text=Our+Leadership" alt="School Leadership" class="rounded-xl shadow-2xl w-full h-auto">
                        </div>
                        <div>
                            <h3 class="text-2xl font-semibold mb-4 text-green-700 border-b pb-2" data-translate="visionTitle">Our Vision and Leadership</h3>
                            <p class="text-gray-700 mb-4 leading-relaxed" data-translate="visionDesc1">
                                Abhyuday Higher Secondary School is a cornerstone of quality education in Neemuch. We aim to provide a **digital-first experience** for parents and students, making academic information and school communication transparent and readily accessible.
                            </p>
                            <p class="text-gray-700 leading-relaxed" data-translate="visionDesc2">
                                Under the proficient leadership of **Principal Deshna Jain** and **Director/Owner Mr. Prakash Jain**, we are dedicated to academic rigor and holistic excellence, fostering critical thinking and moral values.
                            </p>
                            <blockquote class="mt-6 p-4 border-l-4 border-green-600 bg-gray-50 rounded-r-lg shadow-sm">
                                <p class="text-gray-600 italic" data-translate="missionQuote">
                                    "Our mission is to improve communication and accessibility through modern, interactive technology to better serve our community."
                                </p>
                            </blockquote>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Events Page Content -->
        <div id="page-events" class="page-content hidden">
            <section id="events" class="py-16 md:py-24 bg-white overflow-hidden">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="eventsTitle">School Life & Events Calendar</h2>
                        <p class="text-gray-600 mt-2" data-translate="eventsSubtitle">Celebrating learning, creativity, and sportsmanship throughout the year.</p>
                    </div>

                    <div id="event-slider-container" class="relative max-w-6xl mx-auto">
                        <div class="overflow-hidden rounded-xl shadow-2xl">
                            <!-- Slider Track -->
                            <div id="event-slider" class="flex">
                                <!-- Event Cards are inserted here by JS -->
                            </div>
                        </div>
                        <!-- Navigation Buttons -->
                        <button id="prev-event" aria-label="Previous event" class="absolute top-1/2 -left-4 transform -translate-y-1/2 bg-white/90 ring-4 ring-green-500 rounded-full p-3 shadow-xl hover:bg-green-100 transition z-10 hidden md:block">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                        </button>
                        <button id="next-event" aria-label="Next event" class="absolute top-1/2 -right-4 transform -translate-y-1/2 bg-white/90 ring-4 ring-green-500 rounded-full p-3 shadow-xl hover:bg-green-100 transition z-10 hidden md:block">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-700" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                        </button>
                    </div>
                     <!-- Mobile Swipe Hint -->
                    <div class="text-center mt-6 text-sm text-gray-500 md:hidden" data-translate="swipeHint">
                        <i class="fas fa-arrows-alt-h mr-2"></i> Swipe left or right to see more events.
                    </div>
                </div>
            </section>
        </div>

        <!-- Gallery Page Content -->
        <div id="page-gallery" class="page-content hidden">
             <section id="gallery" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="galleryTitle">Our Campus Gallery</h2>
                        <p class="text-gray-600 mt-2" data-translate="gallerySubtitle">A glimpse into the vibrant life at Abhyuday School.</p>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
                        <a href="#" data-category="classroom" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                            <img src="classroom.jpg" alt="Classroom" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                            <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold" data-translate="galleryClassrooms">Classrooms</span>
                            </div>
                        </a>
                        <a href="#" data-category="science_lab" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                             <img src="Bio-lab.jpg" alt="Science Lab" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                             <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold" data-translate="galleryScienceLab">Science Lab</span>
                            </div>
                        </a>
                         <a href="#" data-category="assembly" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                             <img src="Assembly.jpg" alt="Assembly" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                              <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold" data-translate="galleryAssembly">Assembly</span>
                            </div>
                        </a>
                         <a href="#" data-category="computer_lab" class="gallery-category-link group aspect-square block rounded-xl overflow-hidden shadow-lg transition duration-300 hover:shadow-2xl relative">
                            <img src="computer-lab.jpg" alt="Computer Lab" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500">
                             <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity">
                                <span class="text-white text-lg font-bold" data-translate="galleryComputerLab">Computer Lab</span>
                            </div>
                        </a>
                    </div>
                     <div class="text-center mt-6">
                          <p class="text-gray-600" data-translate="galleryHint">Click on a category to explore the photos.</p>
                     </div>
                </div>
            </section>
        </div>

        <!-- Syllabus Page Content -->
        <div id="page-syllabus" class="page-content hidden">
            <section id="syllabus" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="syllabusTitle">Curriculum & Syllabus</h2>
                        <p class="text-gray-600 mt-2" data-translate="syllabusSubtitle">An overview of subjects offered across different levels as per the MP Board curriculum.</p>
                    </div>
                    <div class="max-w-5xl mx-auto bg-white p-6 sm:p-10 rounded-xl shadow-2xl">
                        <!-- Tabs -->
                        <div class="border-b border-gray-200">
                            <nav id="syllabus-tabs-page" class="flex flex-wrap -mb-px" aria-label="Tabs">
                                <a href="#" data-tab="pre-primary" class="syllabus-tab-page active-tab font-semibold text-sm px-4 py-3 rounded-t-lg transition" data-translate="tabPrePrimary">Pre-Primary</a>
                                <a href="#" data-tab="primary" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition" data-translate="tabPrimary">Primary (1-5)</a>
                                <a href="#" data-tab="middle" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition" data-translate="tabMiddle">Middle (6-8)</a>
                                <a href="#" data-tab="secondary" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition" data-translate="tabSecondary">Secondary (9-10)</a>
                                <a href="#" data-tab="higher-secondary" class="syllabus-tab-page text-gray-600 font-semibold text-sm px-4 py-3 rounded-t-lg transition" data-translate="tabHigherSecondary">Higher Secondary (11-12)</a>
                            </nav>
                        </div>
                        <!-- Tab Content -->
                        <div id="syllabus-content-page" class="mt-8">
                            <!-- Pre-Primary Content -->
                        </div>
                    </div>
                    <div class="mt-12 text-center">
                        <a href="#/contact" class="inline-flex items-center text-green-600 hover:text-green-800 font-semibold transition" data-translate="syllabusContact">
                            <i class="fas fa-info-circle mr-2"></i> For a detailed class-wise syllabus, please contact the school office.
                        </a>
                    </div>
                </div>
            </section>
        </div>

        <!-- Result Page Content -->
        <div id="page-result" class="page-content hidden">
            <section id="result" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                         <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="resultPageTitle">Our Achievers</h2>
                         <p class="text-gray-600 mt-4" data-translate="resultPageSubtitle">Celebrating the academic excellence of our students.</p>
                    </div>
                    <div class="max-w-4xl mx-auto space-y-8">
                        <img src="WhatsApp Image 2025-10-07 at 10.14.32_3545e3a4.jpg" alt="Abhyuday School Toppers" class="w-full h-auto rounded-lg shadow-lg">
                        <img src="WhatsApp Image 2025-10-07 at 10.09.37_5c03b14d.jpg" alt="Abhyuday School Toppers" class="w-full h-auto rounded-lg shadow-lg">
                        <img src="WhatsApp Image 2025-10-07 at 10.09.37_617dd549.jpg" alt="Abhyuday School Toppers" class="w-full h-auto rounded-lg shadow-lg">
                    </div>
                </div>
            </section>
        </div>

        <!-- Contact Page Content -->
        <div id="page-contact" class="page-content hidden">
            <section id="contact" class="py-16 md:py-24 bg-gray-50">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-green-800" data-translate="contactTitle">Get in Touch with Abhyuday High. Sec. School</h2>
                        <p class="text-gray-600 mt-2" data-translate="contactSubtitle">We are here to answer your questions regarding admissions, curriculum, and general school operations.</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-12 items-start max-w-6xl mx-auto">
                        <div class="bg-white p-8 rounded-xl shadow-2xl border-l-4 border-green-600">
                            <h3 class="text-2xl font-bold text-green-700 mb-6" data-translate="contactDetailsTitle">School Contact Details</h3>
                            <div class="space-y-6">
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mt-1 mr-4 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                                    <div>
                                        <p class="font-semibold text-gray-800" data-translate="addressLabel">Address</p>
                                        <p class="text-gray-600" data-translate="addressValue">10 Jaroli Bhawan, Dusshera Maidan, Neemuch</p>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mt-1 mr-4 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                                    <div>
                                        <p class="font-semibold text-gray-800" data-translate="phoneLabel">Phone</p>
                                        <a href="tel:+919111980203" class="text-green-600 hover:text-green-800 transition">9111980203</a>,
                                        <a href="tel:+919826109798" class="text-green-600 hover:text-green-800 transition">9826109798</a>
                                    </div>
                                </div>
                                <div class="flex items-start">
                                    <svg class="w-6 h-6 mt-1 mr-4 text-green-600 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                    <div>
                                        <p class="font-semibold text-gray-800" data-translate="emailLabel">Email</p>
                                        <a href="mailto:abhyudayhssnnh@gmail.com" class="text-green-600 hover:text-green-800 transition">abhyudayhssnnh@gmail.com</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Inquiry Form -->
                        <div class="bg-white p-8 rounded-xl shadow-2xl">
                            <h3 class="text-2xl font-bold text-green-700 mb-6" data-translate="sendInquiryTitle">Send an Inquiry</h3>
                            <form id="inquiryForm">
                                <div class="mb-5">
                                    <label for="name" class="block mb-2 font-medium text-gray-700" data-translate="formNameLabel">Full Name</label>
                                    <input type="text" id="name" name="name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition" data-translate-placeholder="formNamePlaceholder" placeholder="Parent's Name" required>
                                </div>
                                <div class="mb-5">
                                    <label for="phone" class="block mb-2 font-medium text-gray-700" data-translate="formPhoneLabel">Phone No</label>
                                    <input type="tel" id="phone" name="phone" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition" data-translate-placeholder="formPhonePlaceholder" placeholder="Enter your phone number" required>
                                </div>
                                <div class="mb-5">
                                    <label for="message" class="block mb-2 font-medium text-gray-700" data-translate="formMessageLabel">Your Message/Inquiry</label>
                                    <textarea id="message" name="message" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-green-500 focus:border-green-500 transition" data-translate-placeholder="formMessagePlaceholder" placeholder="I would like to know about class 1 admission..." required></textarea>
                                </div>
                                <button type="submit" id="inquiry-submit-btn" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition shadow-lg" data-translate="formSubmitBtn">Submit Inquiry</button>
                            </form>
                            <p id="form-success" class="bg-green-100 border border-green-400 text-green-700 p-3 rounded-lg mt-4 hidden text-center font-medium" data-translate="formSuccessMsg"><i class='fas fa-check-circle mr-2'></i> Thank you! Your inquiry has been sent. We will contact you shortly.</p>
                            <p id="form-error" class="bg-red-100 border border-red-400 text-red-700 p-3 rounded-lg mt-4 hidden text-center font-medium" data-translate="formErrorMsg"><i class='fas fa-exclamation-triangle mr-2'></i> Something went wrong. Please try again.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="relative text-white py-12 bg-green-900">
        <!-- Background Overlay -->
        <div class="absolute inset-0 bg-green-900 bg-opacity-95"></div>

        <div class="container mx-auto px-6 relative z-10">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12">
                <!-- School Info & Social Links -->
                <div class="col-span-2 md:col-span-1">
                    <h3 class="text-xl font-bold text-green-300" data-translate="footerSchoolName">Abhyuday High. Sec. School</h3>
                    <p class="mt-4 text-gray-300 text-sm" data-translate="footerSchoolDesc">Committed to academic and holistic excellence in Neemuch. **Affiliated with MP Board.**</p>
                    <div class="flex space-x-4 mt-6">
                        <a href="https://www.facebook.com/share/19uCXrKe9B/" target="_blank" rel="noopener noreferrer" aria-label="Facebook" class="text-gray-300 hover:text-green-400 transition transform hover:scale-110"><i class="fab fa-facebook-f text-lg"></i></a>
                        <a href="https://www.instagram.com/abhyuday150?igsh=bXhlNHpjeTlpbTk2" target="_blank" rel="noopener noreferrer" aria-label="Instagram" class="text-gray-300 hover:text-green-400 transition transform hover:scale-110"><i class="fab fa-instagram text-lg"></i></a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="font-semibold tracking-wider uppercase text-green-200 mb-4" data-translate="footerQuickLinks">Quick Links</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#/about" class="text-gray-300 hover:text-white transition nav-link" data-translate="footerAbout">About Us</a></li>
                        <li><a href="#/events" class="text-gray-300 hover:text-white transition nav-link" data-translate="footerEvents">Events & News</a></li>
                        <li><a href="#/gallery" class="text-gray-300 hover:text-white transition nav-link" data-translate="footerGallery">School Gallery</a></li>
                    </ul>
                </div>

                <!-- Support Links -->
                <div>
                    <h4 class="font-semibold tracking-wider uppercase text-green-200 mb-4" data-translate="footerSupport">Support</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#" id="open-admission-modal-footer" class="text-gray-300 hover:text-white transition" data-translate="footerAdmissionDoc">Essential Document for Admission</a></li>
                        <li><a href="#/syllabus" class="text-gray-300 hover:text-white transition nav-link" data-translate="footerSyllabus">Syllabus Details</a></li>
                        <li><a href="#/result" class="text-gray-300 hover:text-white transition nav-link" data-translate="footerResults">Check Results</a></li>
                        <li><a href="#/contact" class="text-gray-300 hover:text-white transition nav-link" data-translate="footerContactAdmissions">Contact Admissions</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div class="col-span-2 md:col-span-1">
                     <h4 class="font-semibold tracking-wider uppercase text-green-200 mb-4" data-translate="footerContactInfo">Contact Info</h4>
                     <div class="space-y-4 text-sm">
                           <p class="flex items-center text-gray-300">
                            <i class="fas fa-phone mr-3 w-4 text-center text-green-400"></i>
                            <span>
                                <a href="tel:+919111980203" class="hover:text-white transition">9111980203</a>,
                                <a href="tel:+919826109798" class="hover:text-white transition">9826109798</a>
                            </span>
                         </p>
                         <p class="flex items-center text-gray-300">
                            <i class="fas fa-envelope mr-3 w-4 text-center text-green-400"></i>
                            <a href="mailto:abhyudayhssnnh@gmail.com" class="hover:text-white transition">abhyudayhssnnh@gmail.com</a>
                        </p>
                        <p class="flex items-start text-gray-300">
                            <i class="fas fa-map-marker-alt mt-1 mr-3 w-4 text-center text-green-400"></i>
                            <span data-translate="footerAddress">10 Jaroli Bhawan, Dusshera Maidan, Neemuch</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Copyright -->
            <div class="mt-10 border-t border-green-700/50 pt-6 text-center text-sm text-gray-400">
                <p>&copy; <span id="current-year"></span> <span data-translate="copyright">Abhyuday Higher Secondary School. All Rights Reserved.</span></p>
            </div>
        </div>
    </footer>

    <!-- Admission Form Modal -->
    <div id="admission-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4 transition-opacity duration-300 opacity-0" aria-modal="true" role="dialog">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto transform scale-95 transition-transform duration-300 ease-out">
            <div class="p-6 border-b sticky top-0 bg-white z-10 rounded-t-xl">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold text-green-800" data-translate="modalAdmissionTitle">Essential Documents for Admission</h2>
                    <button id="close-admission-modal" aria-label="Close admission form" class="text-gray-500 hover:text-gray-800 text-3xl font-light p-2 rounded-full hover:bg-gray-100 transition">&times;</button>
                </div>
                <p class="text-gray-600 text-sm mt-1" data-translate="modalAdmissionSubtitle">Please refer to the checklist of required documents for the admission process.</p>
            </div>
            <div class="p-6">
                <!-- Required Documents Section -->
                <div class="mb-6 p-4 border border-yellow-300 rounded-lg bg-yellow-50">
                    <h3 class="text-lg font-bold text-yellow-800 border-b border-yellow-200 pb-2 mb-4 flex items-center" data-translate="docChecklistTitle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                        Required Documents Checklist
                    </h3>
                    <p class="text-sm text-yellow-700 mb-4" data-translate="docChecklistSubtitle">Please prepare the following documents. You may be asked to present them during the admission process.</p>
                    <ul class="grid grid-cols-1 sm:grid-cols-2 gap-x-8 gap-y-2 text-gray-700 text-sm list-disc list-inside">
                        <li data-translate="docTC">TC (Transfer Certificate)</li>
                        <li data-translate="docMarksheet">Marksheet</li>
                        <li data-translate="docMigration">Migration (for other boards)</li>
                        <li data-translate="docBirthCert">Birth Certificate</li>
                        <li data-translate="docAadhar">Aadhar Card</li>
                        <li data-translate="docRation">Ration Card</li>
                        <li data-translate="docSamagra">Samagra ID</li>
                        <li data-translate="docCaste">Caste Certificate</li>
                        <li data-translate="docMPTAAS">MPTAAS (For SC/ST only)</li>
                        <li data-translate="docIncome">Income Certificate</li>
                        <li data-translate="docBank">Bank Passbook</li>
                        <li data-translate="docParentID">Parent's ID</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Gallery Viewer Modal -->
    <div id="gallery-viewer-modal" class="fixed inset-0 bg-black bg-opacity-90 z-[60] p-4 hidden items-center justify-center transition-opacity duration-300">
        <div class="relative w-full h-full flex items-center justify-center">
            <!-- Close Button -->
            <button id="close-viewer-btn" class="absolute top-4 right-4 text-white text-4xl hover:text-gray-300 transition z-10">&times;</button>
            <!-- Prev Button -->
            <button id="prev-image-btn" class="absolute left-4 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <!-- Image Container -->
            <div class="max-w-4xl max-h-[85vh] flex flex-col items-center">
                 <img id="viewer-image" src="" alt="Gallery image" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl">
                 <p id="viewer-caption" class="text-white text-center mt-4 font-medium"></p>
            </div>
            <!-- Next Button -->
            <button id="next-image-btn" class="absolute right-4 top-1/2 -translate-y-1/2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
        </div>
    </div>


    <!-- JavaScript & Firebase Logic -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        document.addEventListener('DOMContentLoaded', () => {

            // Set debug level for Firestore logging
            setLogLevel('debug');
            
            // --- FIREBASE INITIALIZATION ---
            let db;
            let isAuthReady = false; // Flag to check if auth is complete
            try {
                const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
                const app = initializeApp(firebaseConfig);
                const auth = getAuth(app);
                db = getFirestore(app);

                 // Listen for authentication state changes
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        // User is signed in.
                        isAuthReady = true;
                        console.log("Firebase Authentication is ready. User UID:", user.uid);
                    } else {
                        // User is signed out.
                        isAuthReady = false;
                    }
                });


                // Authenticate user for Firestore access
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    signInAnonymously(auth);
                }
                console.log("Firebase initialized and attempting sign-in.");
            } catch (error) {
                console.error("Firebase initialization failed:", error);
            }

            // --- LANGUAGE TRANSLATION LOGIC ---
            const translations = {
                en: {
                    enquiryFormLink: "Enquiry Form",
                    schoolName: "Abhyuday High. Sec. School",
                    schoolLocation: "Neemuch",
                    navHome: "Home",
                    navAbout: "About Us",
                    navEvents: "Events",
                    navGallery: "Gallery",
                    navSyllabus: "Syllabus",
                    navResult: "Result",
                    navContact: "Contact",
                    navHomeMobile: "Home",
                    navAboutMobile: "About Us",
                    navEventsMobile: "Events",
                    navGalleryMobile: "Gallery",
                    navSyllabusMobile: "Syllabus",
                    navResultMobile: "Result",
                    navContactMobile: "Contact",
                    heroTitle: "Excellence in Education",
                    heroSubtitle: "Providing a nurturing environment for students to learn, grow, and succeed in Neemuch, Madhya Pradesh.",
                    essentialInfoTitle: "Essential Information",
                    essentialInfoSubtitle: "Find everything you need to know about our school community.",
                    admissionCardTitle: "Essential Document for Admission",
                    admissionCardDesc: "Click to view the list of essential documents for the upcoming academic year.",
                    syllabusCardTitle: "Syllabus Overview",
                    syllabusCardDesc: "Explore our comprehensive curriculum for all classes.",
                    welcomeTitle: "Welcome to Abhyuday High. Sec. School",
                    welcomeDesc: "Abhyuday Higher Secondary School is a cornerstone of quality education in Neemuch, committed to academic rigor and holistic excellence. Under the proficient leadership of our principal and director, we foster an environment of critical thinking, moral values, and digital-first communication for our community.",
                    learnMoreBtn: "Learn More About Us",
                    aboutPageTitle: "Welcome to Abhyuday Higher Secondary School",
                    aboutPageSubtitle: "A reputed educational institution committed to shaping future leaders.",
                    visionTitle: "Our Vision and Leadership",
                    visionDesc1: "Abhyuday Higher Secondary School is a cornerstone of quality education in Neemuch. We aim to provide a **digital-first experience** for parents and students, making academic information and school communication transparent and readily accessible.",
                    visionDesc2: "Under the proficient leadership of **Principal Deshna Jain** and **Director/Owner Mr. Prakash Jain**, we are dedicated to academic rigor and holistic excellence, fostering critical thinking and moral values.",
                    missionQuote: `"Our mission is to improve communication and accessibility through modern, interactive technology to better serve our community."`,
                    eventsTitle: "School Life & Events Calendar",
                    eventsSubtitle: "Celebrating learning, creativity, and sportsmanship throughout the year.",
                    swipeHint: "Swipe left or right to see more events.",
                    galleryTitle: "Our Campus Gallery",
                    gallerySubtitle: "A glimpse into the vibrant life at Abhyuday School.",
                    galleryClassrooms: "Classrooms",
                    galleryScienceLab: "Science Lab",
                    galleryAssembly: "Assembly",
                    galleryComputerLab: "Computer Lab",
                    galleryHint: "Click on a category to explore the photos.",
                    syllabusTitle: "Curriculum & Syllabus",
                    syllabusSubtitle: "An overview of subjects offered across different levels as per the MP Board curriculum.",
                    tabPrePrimary: "Pre-Primary",
                    tabPrimary: "Primary (1-5)",
                    tabMiddle: "Middle (6-8)",
                    tabSecondary: "Secondary (9-10)",
                    tabHigherSecondary: "Higher Secondary (11-12)",
                    syllabusContact: "For a detailed class-wise syllabus, please contact the school office.",
                    resultPageTitle: "Our Achievers",
                    resultPageSubtitle: "Celebrating the academic excellence of our students.",
                    contactTitle: "Get in Touch with Abhyuday High. Sec. School",
                    contactSubtitle: "We are here to answer your questions regarding admissions, curriculum, and general school operations.",
                    contactDetailsTitle: "School Contact Details",
                    addressLabel: "Address",
                    addressValue: "10 Jaroli Bhawan, Dusshera Maidan, Neemuch",
                    phoneLabel: "Phone",
                    emailLabel: "Email",
                    sendInquiryTitle: "Send an Inquiry",
                    formNameLabel: "Full Name",
                    formNamePlaceholder: "Parent's Name",
                    formPhoneLabel: "Phone No",
                    formPhonePlaceholder: "Enter your phone number",
                    formMessageLabel: "Your Message/Inquiry",
                    formMessagePlaceholder: "I would like to know about class 1 admission...",
                    formSubmitBtn: "Submit Inquiry",
                    formSuccessMsg: "<i class='fas fa-check-circle mr-2'></i> Thank you! Your inquiry has been sent. We will contact you shortly.",
                    formErrorMsg: "<i class='fas fa-exclamation-triangle mr-2'></i> Something went wrong. Please try again.",
                    formNotReadyMsg: "<i class='fas fa-exclamation-triangle mr-2'></i> Database not ready. Please wait a moment and try again.",
                    footerSchoolName: "Abhyuday High. Sec. School",
                    footerSchoolDesc: "Committed to academic and holistic excellence in Neemuch. **Affiliated with MP Board.**",
                    footerQuickLinks: "Quick Links",
                    footerAbout: "About Us",
                    footerEvents: "Events & News",
                    footerGallery: "School Gallery",
                    footerSupport: "Support",
                    footerAdmissionDoc: "Essential Document for Admission",
                    footerSyllabus: "Syllabus Details",
                    footerResults: "Check Results",
                    footerContactAdmissions: "Contact Admissions",
                    footerContactInfo: "Contact Info",
                    footerAddress: "10 Jaroli Bhawan, Dusshera Maidan, Neemuch",
                    copyright: "Abhyuday Higher Secondary School. All Rights Reserved.",
                    modalAdmissionTitle: "Essential Documents for Admission",
                    modalAdmissionSubtitle: "Please refer to the checklist of required documents for the admission process.",
                    docChecklistTitle: "Required Documents Checklist",
                    docChecklistSubtitle: "Please prepare the following documents. You may be asked to present them during the admission process.",
                    docTC: "TC (Transfer Certificate)",
                    docMarksheet: "Marksheet",
                    docMigration: "Migration (for other boards)",
                    docBirthCert: "Birth Certificate",
                    docAadhar: "Aadhar Card",
                    docRation: "Ration Card",
                    docSamagra: "Samagra ID",
                    docCaste: "Caste Certificate",
                    docMPTAAS: "MPTAAS (For SC/ST only)",
                    docIncome: "Income Certificate",
                    docBank: "Bank Passbook",
                    docParentID: "Parent's ID"
                },
                hi: {
                    enquiryFormLink: " ",
                    schoolName: "   ",
                    schoolLocation: "",
                    navHome: "",
                    navAbout: "  ",
                    navEvents: "",
                    navGallery: "",
                    navSyllabus: "",
                    navResult: "",
                    navContact: "",
                    navHomeMobile: "",
                    navAboutMobile: "  ",
                    navEventsMobile: "",
                    navGalleryMobile: "",
                    navSyllabusMobile: "",
                    navResultMobile: "",
                    navContactMobile: "",
                    heroTitle: "  ",
                    heroSubtitle: ",      ,           ",
                    essentialInfoTitle: " ",
                    essentialInfoSubtitle: "             ,    ",
                    admissionCardTitle: "    ",
                    admissionCardDesc: "             ",
                    syllabusCardTitle: "  ",
                    syllabusCardDesc: "         ",
                    welcomeTitle: "       ",
                    welcomeDesc: "           ,                  ,       ,    -       ",
                    learnMoreBtn: "    ",
                    aboutPageTitle: "       ",
                    aboutPageSubtitle: "            ",
                    visionTitle: "   ",
                    visionDesc1: "              -      **- **   ,            ",
                    visionDesc2: "**  **  **/   **    ,          ,         ",
                    missionQuote: `"  ,                    "`,
                    eventsTitle: "    ",
                    eventsSubtitle: "  ,       ",
                    swipeHint: "         ",
                    galleryTitle: "  ",
                    gallerySubtitle: "       ",
                    galleryClassrooms: "",
                    galleryScienceLab: " ",
                    galleryAssembly: "",
                    galleryComputerLab: " ",
                    galleryHint: "          ",
                    syllabusTitle: "  ",
                    syllabusSubtitle: "            ",
                    tabPrePrimary: "-",
                    tabPrimary: " (1-5)",
                    tabMiddle: " (6-8)",
                    tabSecondary: " (9-10)",
                    tabHigherSecondary: "  (11-12)",
                    syllabusContact: " -   ,      ",
                    resultPageTitle: " ",
                    resultPageSubtitle: "        ",
                    contactTitle: "      ",
                    contactSubtitle: " ,                 ",
                    contactDetailsTitle: "  ",
                    addressLabel: "",
                    addressValue: "10  ,  , ",
                    phoneLabel: "",
                    emailLabel: "",
                    sendInquiryTitle: "  ",
                    formNameLabel: " ",
                    formNamePlaceholder: "  ",
                    formPhoneLabel: " ",
                    formPhonePlaceholder: "    ",
                    formMessageLabel: " /",
                    formMessagePlaceholder: "  1        ...",
                    formSubmitBtn: "  ",
                    formSuccessMsg: "<i class='fas fa-check-circle mr-2'></i> !            ",
                    formErrorMsg: "<i class='fas fa-exclamation-triangle mr-2'></i>      :  ",
                    formNotReadyMsg: "<i class='fas fa-exclamation-triangle mr-2'></i>              ",
                    footerSchoolName: "   ",
                    footerSchoolDesc: "         **   **",
                    footerQuickLinks: " ",
                    footerAbout: "  ",
                    footerEvents: "  ",
                    footerGallery: " ",
                    footerSupport: "",
                    footerAdmissionDoc: "    ",
                    footerSyllabus: " ",
                    footerResults: " ",
                    footerContactAdmissions: "    ",
                    footerContactInfo: " ",
                    footerAddress: "10  ,  , ",
                    copyright: "     ",
                    modalAdmissionTitle: "    ",
                    modalAdmissionSubtitle: "        ",
                    docChecklistTitle: "  ",
                    docChecklistSubtitle: "                  ",
                    docTC: " (  )",
                    docMarksheet: "",
                    docMigration: " (   )",
                    docBirthCert: "  ",
                    docAadhar: " ",
                    docRation: " ",
                    docSamagra: " ",
                    docCaste: "  ",
                    docMPTAAS: " ( /  )",
                    docIncome: "  ",
                    docBank: " ",
                    docParentID: "-  "
                }
            };
            
            let currentLanguage = 'en';

            const setLanguage = (lang) => {
                currentLanguage = lang;
                document.querySelectorAll('[data-translate]').forEach(element => {
                    const key = element.getAttribute('data-translate');
                    if (translations[lang][key]) {
                        element.innerHTML = translations[lang][key];
                    }
                });
                document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                    const key = element.getAttribute('data-translate-placeholder');
                    if (translations[lang][key]) {
                        element.placeholder = translations[lang][key];
                    }
                });
                // Update syllabus content dynamically
                buildSyllabusContent(lang);
            };

            document.getElementById('language-toggle').addEventListener('click', () => {
                const newLang = currentLanguage === 'en' ? 'hi' : 'en';
                setLanguage(newLang);
            });


            // --- HEADER SCROLL EFFECT ---
            const mainNav = document.getElementById('main-nav');
            const topBar = document.getElementById('top-bar');
            let isTopBarVisible = true;

            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    mainNav.classList.add('header-scrolled');
                    if (isTopBarVisible) {
                        topBar.style.maxHeight = '0';
                        topBar.style.opacity = '0';
                        topBar.style.paddingTop = '0';
                        topBar.style.paddingBottom = '0';
                        isTopBarVisible = false;
                    }
                } else {
                    mainNav.classList.remove('header-scrolled');
                    if (!isTopBarVisible) {
                         topBar.style.maxHeight = '50px'; /* Allow transition */
                         topBar.style.opacity = '1';
                         topBar.style.paddingTop = '0.5rem';
                         topBar.style.paddingBottom = '0.5rem';
                        isTopBarVisible = true;
                    }
                }
            }, { passive: true });

            // --- SPA ROUTING LOGIC ---
            const pageContents = document.querySelectorAll('.page-content');
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileMenu = document.getElementById('mobile-menu');

            const handleRouteChange = () => {
                const hash = window.location.hash || '#/home';
                const route = hash.substring(2) || 'home'; // remove '#/'

                pageContents.forEach(page => {
                    if (page.id === `page-${route}`) {
                        page.classList.remove('hidden');
                        if (page.id === 'page-events') {
                            // Delay initialization slightly to ensure the browser performs layout reflow after making the page visible.
                            setTimeout(() => {
                                initializeEventSlider();
                            }, 50);
                        }
                    } else {
                        page.classList.add('hidden');
                    }
                });

                // Update active link class
                navLinks.forEach(link => {
                    const linkRoute = new URL(link.href).hash;
                    if (linkRoute.endsWith(`/${route}`)) {
                        link.classList.add('active-nav-link');
                    } else {
                        link.classList.remove('active-nav-link');
                    }
                });

                // Close mobile menu on navigation
                mobileMenu.classList.add('hidden');
                window.scrollTo(0, 0);
            };

            window.addEventListener('hashchange', handleRouteChange);
            

            // Mobile Menu Toggle
            document.getElementById('mobile-menu-button').addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });

            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // --- CONTACT INQUIRY FORM SUBMISSION ---
            const inquiryForm = document.getElementById('inquiryForm');
            if (inquiryForm) {
                const inquirySubmitBtn = document.getElementById('inquiry-submit-btn');
                const inquirySuccessMsg = document.getElementById('form-success');
                const inquiryErrorMsg = document.getElementById('form-error');

                inquiryForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    
                    if (!inquiryForm.checkValidity()) {
                        inquiryForm.reportValidity();
                        return;
                    }

                    inquirySuccessMsg.classList.add('hidden');
                    inquiryErrorMsg.classList.add('hidden');
                    const originalBtnText = inquirySubmitBtn.textContent;
                    inquirySubmitBtn.textContent = currentLanguage === 'en' ? 'Sending...' : '  ...';
                    inquirySubmitBtn.disabled = true;

                    if (!db || !isAuthReady) {
                        inquiryErrorMsg.innerHTML = translations[currentLanguage].formNotReadyMsg;
                        inquiryErrorMsg.classList.remove('hidden');
                        inquirySubmitBtn.textContent = originalBtnText;
                        inquirySubmitBtn.disabled = false;
                        return;
                    }

                    try {
                        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
                        const inquiryData = {
                            name: inquiryForm.name.value,
                            phone: inquiryForm.phone.value,
                            message: inquiryForm.message.value,
                            submittedAt: serverTimestamp()
                        };
                        await addDoc(collection(db, `/artifacts/${appId}/public/data/inquiries`), inquiryData);

                        inquirySuccessMsg.classList.remove('hidden');
                        inquiryForm.reset();
                        inquirySubmitBtn.textContent = currentLanguage === 'en' ? 'Submitted!' : '  !';
                        setTimeout(() => {
                            inquirySuccessMsg.classList.add('hidden');
                            inquirySubmitBtn.textContent = originalBtnText;
                            inquirySubmitBtn.disabled = false;
                        }, 5000);
                    } catch (error) {
                        console.error("Error submitting inquiry: ", error);
                        inquiryErrorMsg.innerHTML = translations[currentLanguage].formErrorMsg;
                        inquiryErrorMsg.classList.remove('hidden');
                        inquirySubmitBtn.textContent = originalBtnText;
                        inquirySubmitBtn.disabled = false;
                        setTimeout(() => inquiryErrorMsg.classList.add('hidden'), 5000);
                    }
                });
            }

            // --- REUSABLE MODAL LOGIC (Admission Form) ---
            const modal = document.getElementById('admission-modal');
            const closeBtn = document.getElementById('close-admission-modal');
            const openBtns = document.querySelectorAll('#open-admission-modal-home, #open-admission-modal-footer');

            const openModal = () => {
                if (!modal) return;
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                setTimeout(() => { // Allow display change before transition
                    modal.classList.add('opacity-100');
                    modal.querySelector('div.bg-white').classList.remove('scale-95');
                }, 10);
                document.body.classList.add('overflow-hidden');
            };

            const closeModal = () => {
                if (!modal) return;
                modal.classList.remove('opacity-100');
                modal.querySelector('div.bg-white').classList.add('scale-95');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                    document.body.classList.remove('overflow-hidden');
                }, 300);
            };

            openBtns.forEach(btn => btn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal();
            }));

            if (closeBtn) {
                closeBtn.addEventListener('click', closeModal);
            }

            if (modal) {
                modal.addEventListener('click', e => {
                    if (e.target === modal) closeModal();
                });
            }

            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal && !modal.classList.contains('hidden')) closeModal();
            });
            
            // --- SYLLABUS TABS & CONTENT LOGIC ---
            const syllabusTabsPage = document.querySelectorAll('.syllabus-tab-page');
            const syllabusContentContainer = document.getElementById('syllabus-content-page');
            
            const syllabusContentData = {
                en: {
                    prePrimary: {
                        title: "Pre-Primary (Nursery, LKG, UKG)",
                        desc: "Focus on foundational learning through **play-based activities**, ensuring cognitive, social, and motor skill development.",
                        sections: [
                            {
                                title: "English Medium Focus",
                                icon: "fa-globe",
                                subjects: [
                                    "English (Phonics, Rhymes, Writing)",
                                    "Hindi (Akshar Gyan, Kavita)",
                                    "Mathematics (Numbers, Shapes, Colors)",
                                    "General Awareness (Fruits, Animals, Our Body)",
                                    "Art & Craft, Music, and Dance"
                                ]
                            }
                        ]
                    },
                    primary: {
                        title: "Primary (Classes 1 - 5)",
                        desc: "Building **core academic skills** in literacy, numeracy, and environmental awareness.",
                        sections: [
                            { title: "Languages (English & Hindi)", subjects: ["Grammar and Vocabulary Building", "Reading Comprehension and Story Telling", "Creative Writing and Composition"] },
                            { title: "Mathematics", subjects: ["Number System and Arithmetic Operations", "Basic Geometry: Shapes and Spatial Understanding", "Measurement of Length, Weight, and Capacity", "Introduction to Data Handling"] },
                            { title: "Environmental Studies (EVS)", subjects: ["Our Body, Family, and Festivals", "Plants, Animals, and Our Environment", "Water, Air, and Weather"] },
                            { title: "Other Subjects", subjects: ["Computer Science: Basic digital literacy and MS Office", "General Knowledge & Moral Science", "Art, Craft, Music, and Physical Education"] }
                        ]
                    },
                    middle: {
                        title: "Middle (Classes 6 - 8)",
                        desc: "Transitioning to **specialized subjects** with an introduction to core scientific and social principles.",
                        grid: [
                            [
                                { title: "Languages", desc: "English, Hindi, and Sanskrit (as third language)" },
                                { title: "Mathematics", desc: "Algebra, Geometry, Mensuration, and Data Handling." },
                                { title: "Computer Science", desc: "Programming basics, Internet concepts, and advanced tools." }
                            ],
                            [
                                { title: "Science", list: ["<b>Physics:</b> Motion, Force, Light, Electricity", "<b>Chemistry:</b> Matter, Atoms, Acids & Bases, Metals", "<b>Biology:</b> Cells, Microorganisms, Conservation"] },
                                { title: "Social Science", list: ["<b>History:</b> Ancient, Medieval, and Modern India", "<b>Civics:</b> Constitution, Government, Democracy", "<b>Geography:</b> Earth, Resources, Agriculture"] }
                            ]
                        ]
                    },
                    secondary: {
                        title: "Secondary (Classes 9 - 10)",
                        desc: "Preparing students for **board examinations** with a structured, intensive curriculum.",
                        sectionTitle: "Compulsory Subjects (MP Board)",
                        subjects: ["Hindi", "Sanskrit", "English (Language & Literature)", "Mathematics (Standard / Basic)", "Science (Theory & Practical)", "Social Science (History, Geography, Economics, Political Science)"]
                    },
                    higherSecondary: {
                        title: "Higher Secondary (Classes 11 - 12)",
                        desc: "Offering specialized streams to align with **career aspirations** and higher education pathways.",
                        streams: [
                            { title: "Science Stream", subjects: "Physics, Chemistry, **Mathematics / Biology**, English, Hindi." },
                            { title: "Commerce Stream", subjects: "Accountancy, Business Studies, Economics, English, Hindi." },
                            { title: "Arts Stream", subjects: "History, Political Science, Sociology, Economics, English, Hindi." }
                        ]
                    }
                },
                hi: {
                    prePrimary: {
                        title: "- (, , )",
                        desc: "**- **         , ,       ",
                        sections: [
                            {
                                title: "  ",
                                icon: "fa-globe",
                                subjects: [
                                    " (, , )",
                                    " ( , )",
                                    " (, , )",
                                    "  (, ,  )",
                                    "  , ,  "
                                ]
                            }
                        ]
                    },
                    primary: {
                        title: " ( 1 - 5)",
                        desc: ",      **  **  ",
                        sections: [
                            { title: " (  )", subjects: ["   ", "    ", "   "] },
                            { title: "", subjects: ["    ", " :    ", ",     ", "   "] },
                            { title: "  ()", subjects: [" ,   ", ",    ", ",   "] },
                            { title: " ", subjects: [" :      ", "    ", ", ,    "] }
                        ]
                    },
                    middle: {
                        title: " ( 6 - 8)",
                        desc: "         ** **  ",
                        grid: [
                            [
                                { title: "", desc: ", ,   (    )" },
                                { title: "", desc: ", , ,   " },
                                { title: " ", desc: "   ,  ,   " }
                            ],
                            [
                                { title: "", list: ["<b>:</b> , , , ", "<b> :</b> , ,   , ", "<b> :</b> , , "] },
                                { title: " ", list: ["<b>:</b> ,    ", "<b> :</b> , , ", "<b>:</b> , , "] }
                            ]
                        ]
                    },
                    secondary: {
                        title: " ( 9 - 10)",
                        desc: " ,     ** **      ",
                        sectionTitle: "  ( )",
                        subjects: ["", "", " (  )", " ( / )", " (  )", "  (, , ,  )"]
                    },
                    higherSecondary: {
                        title: "  ( 11 - 12)",
                        desc: "**  **              ",
                        streams: [
                            { title: " ", subjects: ",  , ** /  **, , " },
                            { title: " ", subjects: ",  , , , " },
                            { title: " ", subjects: ",  , , , , " }
                        ]
                    }
                }
            };
            
            function buildSyllabusContent(lang) {
                const data = syllabusContentData[lang];
                let html = `
                    <div data-content="pre-primary" class="syllabus-content-pane-page">
                        <h3 class="text-2xl font-bold mb-4 text-green-700">${data.prePrimary.title}</h3>
                        <p class="text-gray-600 mb-6">${data.prePrimary.desc}</p>
                        <div class="grid md:grid-cols-1 gap-8 max-w-md mx-auto">
                            ${data.prePrimary.sections.map(section => `
                                <div class="p-4 bg-green-50 rounded-lg">
                                    <h4 class="font-bold text-green-800 border-b border-green-300 pb-2 mb-3 flex items-center"><i class="fas ${section.icon} mr-2"></i> ${section.title}</h4>
                                    <ul class="list-disc list-inside mt-2 text-gray-700 space-y-1">${section.subjects.map(s => `<li>${s}</li>`).join('')}</ul>
                                </div>`).join('')}
                        </div>
                    </div>
                    <div data-content="primary" class="syllabus-content-pane-page hidden">
                        <h3 class="text-2xl font-bold mb-4 text-green-700">${data.primary.title}</h3>
                        <p class="text-gray-600 mb-6">${data.primary.desc}</p>
                        <div class="space-y-4">${data.primary.sections.map(section => `
                            <div class="p-4 bg-green-50 rounded-lg">
                                <h4 class="font-bold text-green-800">${section.title}</h4>
                                <ul class="list-disc list-inside mt-2 text-gray-700 text-sm space-y-1">${section.subjects.map(s => `<li>${s}</li>`).join('')}</ul>
                            </div>`).join('')}
                        </div>
                    </div>
                    <div data-content="middle" class="syllabus-content-pane-page hidden">
                        <h3 class="text-2xl font-bold mb-4 text-green-700">${data.middle.title}</h3>
                        <p class="text-gray-600 mb-6">${data.middle.desc}</p>
                        <div class="grid md:grid-cols-2 gap-4">${data.middle.grid.map(col => `
                            <div class="p-4 bg-green-50 rounded-lg space-y-3">${col.map(item => `
                                <div>
                                    <h4 class="font-bold text-green-800">${item.title}</h4>
                                    ${item.desc ? `<p class="text-sm text-gray-700">${item.desc}</p>` : ''}
                                    ${item.list ? `<ul class="list-disc list-inside mt-1 text-gray-700 text-sm space-y-1">${item.list.map(li => `<li>${li}</li>`).join('')}</ul>` : ''}
                                </div>`).join('')}
                            </div>`).join('')}
                        </div>
                    </div>
                    <div data-content="secondary" class="syllabus-content-pane-page hidden">
                        <h3 class="text-2xl font-bold mb-4 text-green-700">${data.secondary.title}</h3>
                        <p class="text-gray-600 mb-6">${data.secondary.desc}</p>
                        <h4 class="font-bold text-green-800 border-b border-green-300 pb-2 mb-3">${data.secondary.sectionTitle}</h4>
                        <ul class="list-disc list-inside mt-2 text-gray-700 space-y-2 grid sm:grid-cols-2">${data.secondary.subjects.map(s => `<li>${s}</li>`).join('')}</ul>
                    </div>
                    <div data-content="higher-secondary" class="syllabus-content-pane-page hidden">
                        <h3 class="text-2xl font-bold mb-4 text-green-700">${data.higherSecondary.title}</h3>
                        <p class="text-gray-600 mb-6">${data.higherSecondary.desc}</p>
                        <div class="space-y-6">${data.higherSecondary.streams.map(stream => `
                            <div class="p-4 border border-green-200 rounded-lg">
                                <h4 class="font-bold text-green-800">${stream.title}</h4>
                                <p class="text-gray-700 mt-1">${stream.subjects}</p>
                            </div>`).join('')}
                        </div>
                    </div>`;
                syllabusContentContainer.innerHTML = html;
                
                // After rebuilding, we need to re-select the active tab
                const activeTab = document.querySelector('.syllabus-tab-page.active-tab');
                if(activeTab) {
                    const tabId = activeTab.getAttribute('data-tab');
                    document.querySelector(`.syllabus-content-pane-page[data-content="${tabId}"]`).classList.remove('hidden');
                }
            }


            syllabusTabsPage.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    syllabusTabsPage.forEach(item => {
                        item.classList.remove('active-tab');
                        item.classList.remove('text-green-700');
                        item.classList.add('text-gray-600');
                    });
                    tab.classList.add('active-tab');
                    tab.classList.remove('text-gray-600');
                    tab.classList.add('text-green-700');

                    const allPanes = syllabusContentContainer.querySelectorAll('.syllabus-content-pane-page');
                    allPanes.forEach(pane => pane.classList.add('hidden'));

                    const tabId = tab.getAttribute('data-tab');
                    const activePane = syllabusContentContainer.querySelector(`.syllabus-content-pane-page[data-content="${tabId}"]`);
                    if(activePane) activePane.classList.remove('hidden');
                });
            });


            // --- EVENT SLIDER LOGIC (REFACTORED) ---
            const eventsData = [
                { 
                    img: 'https://placehold.co/600x400/3b82f6/ffffff?text=Yoga+Day', date: '2025-06-21', title: 'International Yoga Day', desc: 'Embracing wellness and inner peace with a school-wide yoga session for students and teachers.', color: 'blue',
                    gallery: [
                        { src: 'IMG-20251004-WA0034.jpg', alt: 'Students performing pranayama during the Yoga Day session.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/22c55e/ffffff?text=Tree+Plantation', date: '2025-07-05', title: 'Tree Plantation Drive', desc: 'A green initiative by our students to contribute to a healthier environment. Every sapling counts!', color: 'green',
                    gallery: [
                        { src: 'IMG-20251004-WA0023.jpg', alt: 'Students planting a sapling during the drive.' },
                        { src: 'IMG-20251004-WA0028.jpg', alt: 'A teacher and students pose with a newly planted sapling.' },
                        { src: 'IMG-20251004-WA0039.jpg', alt: 'School staff and students participating together in the tree plantation event.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/ef4444/ffffff?text=Independence+Day', date: '2025-08-15', title: 'Independence Day', desc: 'Celebrating the spirit of freedom with a flag hoisting ceremony and patriotic cultural programs.', color: 'red',
                    gallery: [
                        { src: 'IMG-20251004-WA0021.jpg', alt: 'Students and teachers celebrating Independence Day.' },
                        { src: 'independence-day (2).jpg', alt: 'Young students performing on Independence Day.' },
                        { src: 'independence-day.jpg', alt: 'Students performing a cultural dance for Independence Day.' },
                        { src: 'IMG-20251004-WA0022.jpg', alt: 'Students in costume for an Independence Day performance.' },
                        { src: 'WhatsApp Image 2025-10-04 at 12.17.39_f016b238.jpg', alt: 'Students and teachers on stage receiving an award.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/a855f7/ffffff?text=Janmashtami', date: '2025-08-26', title: 'Janmashtami Celebration', desc: 'Celebrating the birth of Lord Krishna with Dahi Handi, cultural performances, and devotional songs.', color: 'purple',
                    gallery: [
                        { src: 'IMG-20251004-WA0019.jpg', alt: 'Students dressed as Krishna and Radha for the celebration.' },
                        { src: 'IMG-20251004-WA0009.jpg', alt: 'Young students in adorable Krishna and Radha costumes.' },
                        { src: 'IMG-20251004-WA0026.jpg', alt: 'A group of children in festive attire for Janmashtami.' },
                        { src: 'IMG-20251004-WA0027.jpg', alt: 'Students and teachers gathered on stage for the Janmashtami event.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/f97316/ffffff?text=Navratri+Garba', date: '2025-10-02', title: 'Navratri Garba Celebration', desc: 'Join us for a vibrant evening of Garba and Dandiya to celebrate the festive spirit of Navratri.', color: 'yellow',
                    gallery: [
                          { src: 'IMG-20251004-WA0014.jpg', alt: 'Students performing Garba in colorful traditional dresses.' },
                          { src: 'IMG-20251004-WA0032.jpg', alt: 'A group of students performing a traditional dance.' },
                          { src: 'IMG-20251004-WA0037.jpg', alt: 'Students in beautiful traditional attire for Navratri.' },
                          { src: 'IMG-20251004-WA0040.jpg', alt: 'Students posing for a group photo in their performance costumes.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/84cc16/ffffff?text=School+Picnic',
                    date: '2025-11-15',
                    title: 'Annual School Picnic',
                    desc: 'A fun-filled day of games, food, and outdoor activities for all students at a local park.',
                    color: 'green',
                    gallery: [
                        { src: 'IMG-20251004-WA0025.jpg', alt: 'A group photo of students and teachers at the picnic spot.' },
                        { src: 'IMG-20251004-WA0031.jpg', alt: 'Students enjoying their lunch in a circle during the picnic.' },
                        { src: 'IMG-20251006-WA0002.jpg', alt: 'A small group of students having their meal on the grass.' },
                        { src: 'IMG-20251006-WA0003.jpg', alt: 'Younger students sitting in a circle and enjoying their picnic lunch.' }
                    ]
                },
                { 
                    img: 'https://placehold.co/600x400/14b8a6/ffffff?text=Annual+Function', date: '2026-02-18', title: 'Annual Function', desc: 'A spectacular evening of music, dance, and drama showcasing our students\' incredible talents.', color: 'teal',
                     gallery: [
                        { src: 'IMG-20251004-WA0015.jpg', alt: 'Students performing a skit about Meenakshi Temple and Golconda Fort.' },
                        { src: 'IMG-20251004-WA0018.jpg', alt: 'Students in costume for a performance about Jallianwala Bagh and Wagah Border.' },
                       ]
                }
            ];
            const currentDate = new Date('2025-10-07T16:54:00+05:30'); // Set to Tuesday, October 7, 2025 at 4:54 PM IST

            eventsData.sort((a, b) => {
                const dateA = new Date(a.date), dateB = new Date(b.date);
                const aIsPast = dateA < currentDate, bIsPast = dateB < currentDate;
                if (aIsPast && !bIsPast) return 1;
                if (!aIsPast && bIsPast) return -1;
                if (!aIsPast && !bIsPast) return dateA - dateB;
                if (aIsPast && bIsPast) return dateB - dateA;
                return 0;
            });

            let currentIndex = 0;
            let intervalId;
            const totalSlides = eventsData.length;
            const slider = document.getElementById('event-slider');
            const prevBtn = document.getElementById('prev-event');
            const nextBtn = document.getElementById('next-event');
            const eventSliderContainer = document.getElementById('event-slider-container');

            const getSlidesPerView = () => window.innerWidth >= 1024 ? 3 : (window.innerWidth >= 768 ? 2 : 1);

            const updateSlider = (useTransition = true) => {
                if (!slider) return;
                const slidesPerView = getSlidesPerView();
                const maxIndex = Math.max(0, totalSlides - slidesPerView);
                currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));
                const slideWidth = 100 / slidesPerView;
                const offset = -currentIndex * slideWidth;
                slider.style.transition = useTransition ? 'transform 0.4s ease-in-out' : 'none';
                slider.style.transform = `translateX(${offset}%)`;

                if (prevBtn && nextBtn) {
                    prevBtn.disabled = currentIndex === 0;
                    nextBtn.disabled = currentIndex >= maxIndex;
                    prevBtn.classList.toggle('opacity-50', prevBtn.disabled);
                    prevBtn.classList.toggle('cursor-not-allowed', prevBtn.disabled);
                    nextBtn.classList.toggle('opacity-50', nextBtn.disabled);
                    nextBtn.classList.toggle('cursor-not-allowed', nextBtn.disabled);
                }
            };
            
            const autoSlideNext = () => {
                const slidesPerView = getSlidesPerView();
                const maxIndex = Math.max(0, totalSlides - slidesPerView);
                currentIndex = (currentIndex + 1) > maxIndex ? 0 : currentIndex + 1;
                updateSlider();
            };
            
            const manualSlideNext = () => {
                const slidesPerView = getSlidesPerView();
                const maxIndex = Math.max(0, totalSlides - slidesPerView);
                if (currentIndex < maxIndex) currentIndex++;
                updateSlider();
            };
            
            const manualSlidePrev = () => {
                if (currentIndex > 0) currentIndex--;
                updateSlider();
            };

            const startAutoSlide = () => {
                stopAutoSlide();
                if (totalSlides > getSlidesPerView()) intervalId = setInterval(autoSlideNext, 4000);
            };

            const stopAutoSlide = () => clearInterval(intervalId);

            function initializeEventSlider() {
                if (!slider) return;
                if (slider.dataset.initialized) {
                    const slides = slider.querySelectorAll('.event-slide');
                    const slideWidth = 100 / getSlidesPerView();
                    slides.forEach(slide => { slide.style.width = `${slideWidth}%`; });
                    updateSlider(false);
                    return;
                }
                slider.innerHTML = '';
                const slidesPerView = getSlidesPerView();
                const slideWidth = 100 / slidesPerView;
                eventsData.forEach((event, index) => {
                    const eventDate = new Date(event.date);
                    const isPast = eventDate < currentDate;
                    const statusBadgeText = isPast ? 'Completed' : 'Upcoming';
                    const statusBadge = `<span class="text-xs font-bold ${isPast ? 'text-gray-700 bg-gray-200' : 'text-green-700 bg-green-100'} px-3 py-1 rounded-full absolute top-3 right-3 z-10 shadow-sm">${statusBadgeText}</span>`;
                    const formattedDate = eventDate.toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });
                    const colors = { red: 'bg-red-100 text-red-800', pink: 'bg-pink-100 text-pink-800', yellow: 'bg-yellow-100 text-yellow-800', purple: 'bg-purple-100 text-purple-800', green: 'bg-green-100 text-green-800', blue: 'bg-blue-100 text-blue-800', teal: 'bg-teal-100 text-teal-800' };
                    
                    const hasGallery = event.gallery && event.gallery.length > 0;
                    const cursorClass = hasGallery ? 'cursor-pointer' : '';

                    const cardHTML = `<div class="p-4 h-full">
                        <div data-event-index="${index}" class="bg-white rounded-xl shadow-lg overflow-hidden h-full flex flex-col transform transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] border-t-4 border-b-4 border-green-500/0 hover:border-green-500/50 ${cursorClass} group">
                            <div class="relative">
                                <img src="${event.img}" alt="${event.title}" class="w-full h-48 object-cover object-center" onerror="this.onerror=null;this.src='https://placehold.co/600x400/cccccc/ffffff?text=Image+Error';">
                                ${statusBadge}
                                ${hasGallery ? `<div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                                    <span class="text-white font-bold text-lg flex items-center"><i class="far fa-images mr-2"></i> View Photos</span>
                                                </div>` : ''}
                            </div>
                            <div class="p-6 flex flex-col flex-grow">
                                <span class="text-xs font-semibold ${colors[event.color] || 'bg-gray-100 text-gray-800'} px-3 py-1 rounded-full self-start mb-2">${formattedDate}</span>
                                <h3 class="text-xl font-bold mb-3 text-green-800">${event.title}</h3>
                                <p class="text-gray-600 flex-grow">${event.desc}</p>
                            </div>
                        </div>
                    </div>`;

                    const slideWrapper = document.createElement('div');
                    slideWrapper.className = 'flex-shrink-0 event-slide';
                    slideWrapper.style.width = `${slideWidth}%`;
                    slideWrapper.innerHTML = cardHTML;
                    slider.appendChild(slideWrapper);
                });
                slider.dataset.initialized = 'true';
                updateSlider(false);
                startAutoSlide();

                // Add a single event listener to the slider for delegation
                slider.addEventListener('click', (e) => {
                    const card = e.target.closest('[data-event-index]');
                    if (!card) return;

                    const eventIndex = parseInt(card.dataset.eventIndex, 10);
                    const event = eventsData[eventIndex];

                    if (event && event.gallery && event.gallery.length > 0) {
                        openViewerWithData(event.gallery);
                    }
                });
            }
            
            if (prevBtn && nextBtn) {
                nextBtn.addEventListener('click', () => { manualSlideNext(); stopAutoSlide(); startAutoSlide(); });
                prevBtn.addEventListener('click', () => { manualSlidePrev(); stopAutoSlide(); startAutoSlide(); });
            }
            
            window.addEventListener('resize', () => {
                if (document.getElementById('page-events').classList.contains('hidden')) return;
                const slider = document.getElementById('event-slider');
                if(slider) slider.dataset.initialized = ''; // Force re-init on resize
                initializeEventSlider();
            }, { passive: true });
            
            if (eventSliderContainer) {
                let touchstartX = 0;
                eventSliderContainer.addEventListener('touchstart', e => { touchstartX = e.changedTouches[0].screenX; stopAutoSlide(); }, { passive: true });
                eventSliderContainer.addEventListener('touchend', e => {
                    const touchendX = e.changedTouches[0].screenX;
                    if (touchendX < touchstartX - 50) manualSlideNext();
                    if (touchendX > touchstartX + 50) manualSlidePrev();
                    startAutoSlide();
                });
            }

            // --- GALLERY VIEWER LOGIC ---
            const galleryData = {
                classroom: {
                    name: 'Classrooms',
                    images: [
                        { src: 'IMG-20251004-WA0038.jpg', alt: 'Students participating in a classroom activity with mangoes.' },
                        { src: 'classroom.jpg', alt: 'A teacher giving a lecture to students in a classroom.' }
                    ]
                },
                science_lab: {
                    name: 'Science Lab',
                    images: [
                        { src: 'lab.jpg', alt: 'A view of the physics lab with various equipment.' },
                        { src: 'Chemistry-lab.jpeg', alt: 'A view of the chemistry lab with chemicals and beakers.' },
                        { src: 'Bio-lab.jpg', alt: 'A view of the biology lab with anatomical models.' }
                    ]
                },
                assembly: {
                    name: 'Assembly Hall',
                    images: [
                        { src: 'Assembly.jpg', alt: 'Students gathered for the school assembly.' }
                    ]
                },
                computer_lab: {
                    name: 'Computer Lab',
                    images: [
                        { src: 'computer-lab.jpg', alt: 'Students working on computers in the well-equipped lab.' }
                    ]
                }
            };
            
            const viewerModal = document.getElementById('gallery-viewer-modal');
            const viewerImage = document.getElementById('viewer-image');
            const viewerCaption = document.getElementById('viewer-caption');
            const closeViewerBtn = document.getElementById('close-viewer-btn');
            const prevImageBtn = document.getElementById('prev-image-btn');
            const nextImageBtn = document.getElementById('next-image-btn');

            let currentCategoryImages = [];
            let currentImageIndex = 0;

            const updateImageViewer = () => {
                const image = currentCategoryImages[currentImageIndex];
                viewerImage.src = image.src;
                viewerImage.alt = image.alt;
                viewerCaption.textContent = `${image.alt} (${currentImageIndex + 1} / ${currentCategoryImages.length})`;

                prevImageBtn.disabled = currentImageIndex === 0;
                nextImageBtn.disabled = currentImageIndex === currentCategoryImages.length - 1;
                prevImageBtn.classList.toggle('opacity-50', prevImageBtn.disabled);
                nextImageBtn.classList.toggle('opacity-50', nextImageBtn.disabled);
            };

            const openViewerWithData = (images) => {
                if (!images || images.length === 0) return;
                currentCategoryImages = images;
                currentImageIndex = 0;
                updateImageViewer();
                viewerModal.classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
            };

            const openViewer = (category, index) => {
                const categoryData = galleryData[category];
                if (!categoryData || !categoryData.images.length) return;
                
                openViewerWithData(categoryData.images);
                currentImageIndex = index; // Set index after opening
                updateImageViewer();
            };

            const closeViewer = () => {
                viewerModal.classList.add('hidden');
                 document.body.classList.remove('overflow-hidden');
            };

            document.querySelectorAll('.gallery-category-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const category = e.currentTarget.dataset.category;
                    openViewer(category, 0); // Open the first image of the category
                });
            });

            closeViewerBtn.addEventListener('click', closeViewer);
            viewerModal.addEventListener('click', (e) => {
                 if (e.target === viewerModal) closeViewer();
            });

            prevImageBtn.addEventListener('click', () => {
                if (currentImageIndex > 0) {
                    currentImageIndex--;
                    updateImageViewer();
                }
            });

            nextImageBtn.addEventListener('click', () => {
                if (currentImageIndex < currentCategoryImages.length - 1) {
                    currentImageIndex++;
                    updateImageViewer();
                }
            });

            window.addEventListener('keydown', (e) => {
                if (viewerModal.classList.contains('hidden')) return;
                if (e.key === 'Escape') closeViewer();
                if (e.key === 'ArrowLeft') prevImageBtn.click();
                if (e.key === 'ArrowRight') nextImageBtn.click();
            });

            // Initial load
            handleRouteChange();
            setLanguage('en');

        });
    </script>

</body>
</html>
